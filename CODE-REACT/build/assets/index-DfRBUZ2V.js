import{w as ve,f as ee,e as pr,a as ht,_ as F,b as ge,d as ue,i as ia,s as dr,h as se,j as pe,t as me,o as sa,k as vt,l as oa,m as qu,n as Ce,p as yr,r as gt,q as mr,u as ua,v as br,x as Vs,y as pt,z as Hu,A as Ge,B as Bs,C as dt,D as _t,E as Fs,F as la,G as js,H as Pe,I as yt,J as Yu,K as Sr,L as Xu,M as Ku,N as Qu,O as zs,P as Gs,Q as fa,R as Us,S as ca,T as Ju,U as Ue,V as $r,W as Zu,X as el,Y as tl,Z as ha,$ as Ws,a0 as wr,a1 as Er,a2 as rl,a3 as va,a4 as qs,g as ga,a5 as nl,a6 as Rr,a7 as We,a8 as xr,a9 as Hs,aa as Ys,ab as al,ac as Xs,ad as il,ae as sl,af as ol,ag as ul,ah as ll,ai as Ks,c as Qs,aj as pa,ak as fl,al as Js,am as Zs,an as cl,ao as hl,ap as eo,aq as vl,ar as gl,as as pl,at as dl}from"./index-CmxzCogo.js";var yl=!1,ml=ee,bl=ve,Sl=pr,$l=bl("species"),kr=function(r){return Sl>=51||!ml(function(){var a=[],e=a.constructor={};return e[$l]=function(){return{foo:1}},a[r](Boolean).foo!==1})},wl=F,El=ht.map,Rl=kr,xl=Rl("map");wl({target:"Array",proto:!0,forced:!xl},{map:function(a){return El(this,a,arguments.length>1?arguments[1]:void 0)}});var kl=ge,to=function(){var r=kl(this),a="";return r.hasIndices&&(a+="d"),r.global&&(a+="g"),r.ignoreCase&&(a+="i"),r.multiline&&(a+="m"),r.dotAll&&(a+="s"),r.unicode&&(a+="u"),r.unicodeSets&&(a+="v"),r.sticky&&(a+="y"),a},da=ee,Cl=ue,ya=Cl.RegExp,ma=da(function(){var r=ya("a","y");return r.lastIndex=2,r.exec("abcd")!==null});ma||da(function(){return!ya("a","y").sticky});var Pl=ma||da(function(){var r=ya("^r","gy");return r.lastIndex=2,r.exec("str")!==null}),ro={BROKEN_CARET:Pl,UNSUPPORTED_Y:ma},Tl=ee,Ol=ue,Al=Ol.RegExp,_l=Tl(function(){var r=Al(".","s");return!(r.dotAll&&r.test(`
`)&&r.flags==="s")}),Nl=ee,Ml=ue,Dl=Ml.RegExp,Il=Nl(function(){var r=Dl("(?<a>b)","g");return r.exec("b").groups.a!=="b"||"b".replace(r,"$<a>c")!=="bc"}),Je=pe,Cr=se,Ll=me,Vl=to,Bl=ro,Fl=dr,jl=sa,zl=ia.get,Gl=_l,Ul=Il,Wl=Fl("native-string-replace",String.prototype.replace),cr=RegExp.prototype.exec,Vn=cr,ql=Cr("".charAt),Hl=Cr("".indexOf),Yl=Cr("".replace),tn=Cr("".slice),Bn=function(){var r=/a/,a=/b*/g;return Je(cr,r,"a"),Je(cr,a,"a"),r.lastIndex!==0||a.lastIndex!==0}(),no=Bl.BROKEN_CARET,Fn=/()??/.exec("")[1]!==void 0,Xl=Bn||Fn||no||Gl||Ul;Xl&&(Vn=function(a){var e=this,n=zl(e),t=Ll(a),s=n.raw,i,o,u,l,f,c,h;if(s)return s.lastIndex=e.lastIndex,i=Je(Vn,s,t),e.lastIndex=s.lastIndex,i;var v=n.groups,g=no&&e.sticky,b=Je(Vl,e),y=e.source,E=0,k=t;if(g&&(b=Yl(b,"y",""),Hl(b,"g")===-1&&(b+="g"),k=tn(t,e.lastIndex),e.lastIndex>0&&(!e.multiline||e.multiline&&ql(t,e.lastIndex-1)!==`
`)&&(y="(?: "+y+")",k=" "+k,E++),o=new RegExp("^(?:"+y+")",b)),Fn&&(o=new RegExp("^"+y+"$(?!\\s)",b)),Bn&&(u=e.lastIndex),l=Je(cr,g?o:e,k),g?l?(l.input=tn(l.input,E),l[0]=tn(l[0],E),l.index=e.lastIndex,e.lastIndex+=l[0].length):e.lastIndex=0:Bn&&l&&(e.lastIndex=e.global?l.index+l[0].length:u),Fn&&l&&l.length>1&&Je(Wl,l[0],o,function(){for(f=1;f<arguments.length-2;f++)arguments[f]===void 0&&(l[f]=void 0)}),l&&v)for(l.groups=c=jl(null),f=0;f<v.length;f++)h=v[f],c[h[0]]=l[h[1]];return l});var ba=Vn,Kl=F,Ha=ba;Kl({target:"RegExp",proto:!0,forced:/./.exec!==Ha},{exec:Ha});var Ya=pe,Xa=vt,Ql=ba,Ka=ee,ao=ve,Jl=oa,Zl=ao("species"),rn=RegExp.prototype,Sa=function(r,a,e,n){var t=ao(r),s=!Ka(function(){var l={};return l[t]=function(){return 7},""[r](l)!==7}),i=s&&!Ka(function(){var l=!1,f=/a/;return r==="split"&&(f={},f.constructor={},f.constructor[Zl]=function(){return f},f.flags="",f[t]=/./[t]),f.exec=function(){return l=!0,null},f[t](""),!l});if(!s||!i||e){var o=/./[t],u=a(t,""[r],function(l,f,c,h,v){var g=f.exec;return g===Ql||g===rn.exec?s&&!v?{done:!0,value:Ya(o,f,c,h)}:{done:!0,value:Ya(l,c,f,h)}:{done:!1}});Xa(String.prototype,r,u[0]),Xa(rn,t,u[1])}n&&Jl(rn[t],"sham",!0)},ef=qu.charAt,$a=function(r,a,e){return a+(e?ef(r,a).length:1)},Qa=pe,tf=ge,rf=Ce,nf=yr,af=ba,sf=TypeError,wa=function(r,a){var e=r.exec;if(rf(e)){var n=Qa(e,r,a);return n!==null&&tf(n),n}if(nf(r)==="RegExp")return Qa(af,r,a);throw new sf("RegExp#exec called on incompatible receiver")},of=pe,uf=Sa,lf=ge,ff=mr,cf=br,nn=me,hf=gt,vf=ua,gf=$a,Ja=wa;uf("match",function(r,a,e){return[function(t){var s=hf(this),i=ff(t)?void 0:vf(t,r);return i?of(i,t,s):new RegExp(t)[r](nn(s))},function(n){var t=lf(this),s=nn(n),i=e(a,t,s);if(i.done)return i.value;if(!t.global)return Ja(t,s);var o=t.unicode;t.lastIndex=0;for(var u=[],l=0,f;(f=Ja(t,s))!==null;){var c=nn(f[0]);u[l]=c,c===""&&(t.lastIndex=gf(s,cf(t.lastIndex),o)),l++}return l===0?null:u}]});var pf=Vs,io=Function.prototype,Za=io.apply,ei=io.call,Nt=typeof Reflect=="object"&&Reflect.apply||(pf?ei.bind(Za):function(){return ei.apply(Za,arguments)}),Ea=se,df=pt,yf=Math.floor,an=Ea("".charAt),mf=Ea("".replace),sn=Ea("".slice),bf=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,Sf=/\$([$&'`]|\d{1,2})/g,$f=function(r,a,e,n,t,s){var i=e+r.length,o=n.length,u=Sf;return t!==void 0&&(t=df(t),u=bf),mf(s,u,function(l,f){var c;switch(an(f,0)){case"$":return"$";case"&":return r;case"`":return sn(a,0,e);case"'":return sn(a,i);case"<":c=t[sn(f,1,-1)];break;default:var h=+f;if(h===0)return l;if(h>o){var v=yf(h/10);return v===0?l:v<=o?n[v-1]===void 0?an(f,1):n[v-1]+an(f,1):l}c=n[h-1]}return c===void 0?"":c})},wf=Nt,ti=pe,Pr=se,Ef=Sa,Rf=ee,xf=ge,kf=Ce,Cf=mr,Pf=Hu,Tf=br,Ye=me,Of=gt,Af=$a,_f=ua,Nf=$f,Mf=wa,Df=ve,jn=Df("replace"),If=Math.max,Lf=Math.min,Vf=Pr([].concat),on=Pr([].push),ri=Pr("".indexOf),ni=Pr("".slice),Bf=function(r){return r===void 0?r:String(r)},Ff=function(){return"a".replace(/./,"$0")==="$0"}(),ai=function(){return/./[jn]?/./[jn]("a","$0")==="":!1}(),jf=!Rf(function(){var r=/./;return r.exec=function(){var a=[];return a.groups={a:"7"},a},"".replace(r,"$<a>")!=="7"});Ef("replace",function(r,a,e){var n=ai?"$":"$0";return[function(s,i){var o=Of(this),u=Cf(s)?void 0:_f(s,jn);return u?ti(u,s,o,i):ti(a,Ye(o),s,i)},function(t,s){var i=xf(this),o=Ye(t);if(typeof s=="string"&&ri(s,n)===-1&&ri(s,"$<")===-1){var u=e(a,i,o,s);if(u.done)return u.value}var l=kf(s);l||(s=Ye(s));var f=i.global,c;f&&(c=i.unicode,i.lastIndex=0);for(var h=[],v;v=Mf(i,o),!(v===null||(on(h,v),!f));){var g=Ye(v[0]);g===""&&(i.lastIndex=Af(o,Tf(i.lastIndex),c))}for(var b="",y=0,E=0;E<h.length;E++){v=h[E];for(var k=Ye(v[0]),S=If(Lf(Pf(v.index),o.length),0),x=[],P,N=1;N<v.length;N++)on(x,Bf(v[N]));var L=v.groups;if(l){var j=Vf([k],x,S,o);L!==void 0&&on(j,L),P=Ye(wf(s,void 0,j))}else P=Nf(k,o,S,x,L,s);S>=y&&(b+=ni(o,y,S)+P,y=S+k.length)}return b+ni(o,y)}]},!jf||!Ff||ai);var zf=Ge,Gf=yr,Uf=ve,Wf=Uf("match"),qf=function(r){var a;return zf(r)&&((a=r[Wf])!==void 0?!!a:Gf(r)==="RegExp")},Hf=qf,Yf=TypeError,so=function(r){if(Hf(r))throw new Yf("The method doesn't accept regular expressions");return r},Xf=ve,Kf=Xf("match"),oo=function(r){var a=/./;try{"/./"[r](a)}catch{try{return a[Kf]=!1,"/./"[r](a)}catch{}}return!1},Qf=F,Jf=Bs,Zf=dt.f,ec=br,ii=me,tc=so,rc=gt,nc=oo,ac=Jf("".slice),ic=Math.min,uo=nc("startsWith"),sc=!uo&&!!function(){var r=Zf(String.prototype,"startsWith");return r&&!r.writable}();Qf({target:"String",proto:!0,forced:!sc&&!uo},{startsWith:function(a){var e=ii(rc(this));tc(a);var n=ec(ic(arguments.length>1?arguments[1]:void 0,e.length)),t=ii(a);return ac(e,n,n+t.length)===t}});var oc=ee,mt=function(r,a){var e=[][r];return!!e&&oc(function(){e.call(null,a||function(){return 1},1)})},uc=F,lc=se,fc=Fs,cc=_t,hc=mt,vc=lc([].join),gc=fc!==Object,pc=gc||!hc("join",",");uc({target:"Array",proto:!0,forced:pc},{join:function(a){return vc(cc(this),a===void 0?",":a)}});function dc(r){if(Array.isArray(r))return r}function yc(r,a){var e=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(e!=null){var n,t,s,i,o=[],u=!0,l=!1;try{if(s=(e=e.call(r)).next,a===0){if(Object(e)!==e)return;u=!1}else for(;!(u=(n=s.call(e)).done)&&(o.push(n.value),o.length!==a);u=!0);}catch(f){l=!0,t=f}finally{try{if(!u&&e.return!=null&&(i=e.return(),Object(i)!==i))return}finally{if(l)throw t}}return o}}function zn(r,a){(a==null||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++)n[e]=r[e];return n}function lo(r,a){if(r){if(typeof r=="string")return zn(r,a);var e={}.toString.call(r).slice(8,-1);return e==="Object"&&r.constructor&&(e=r.constructor.name),e==="Map"||e==="Set"?Array.from(r):e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?zn(r,a):void 0}}function mc(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function K(r,a){return dc(r)||yc(r,a)||lo(r,a)||mc()}var Ra={},bc=ve;Ra.f=bc;var si=js,Sc=Pe,$c=Ra,wc=la.f,fo=function(r){var a=si.Symbol||(si.Symbol={});Sc(a,r)||wc(a,r,{value:$c.f(r)})},Ec=pe,Rc=yt,xc=ve,kc=vt,Cc=function(){var r=Rc("Symbol"),a=r&&r.prototype,e=a&&a.valueOf,n=xc("toPrimitive");a&&!a[n]&&kc(a,n,function(t){return Ec(e,this)},{arity:1})},Tr=F,Mt=ue,xa=pe,Pc=se,at=Ue,it=$r,Tc=ee,ne=Pe,Oc=Sr,Gn=ge,Or=_t,ka=el,Ac=me,Un=Zu,st=sa,co=Us,_c=zs,ho=tl,Nc=Gs,vo=dt,go=la,Mc=Qu,po=Ku,un=vt,Dc=fa,Ca=dr,Ic=Yu,yo=Ju,oi=Xu,Lc=ve,Vc=Ra,Bc=fo,Fc=Cc,jc=ca,mo=ia,Ar=ht.forEach,ce=Ic("hidden"),_r="Symbol",Pt="prototype",zc=mo.set,ui=mo.getterFor(_r),ye=Object[Pt],je=Mt.Symbol,Et=je&&je[Pt],Gc=Mt.RangeError,Uc=Mt.TypeError,ln=Mt.QObject,bo=vo.f,ze=go.f,So=ho.f,Wc=po.f,$o=Pc([].push),Ee=Ca("symbols"),Dt=Ca("op-symbols"),qc=Ca("wks"),Wn=!ln||!ln[Pt]||!ln[Pt].findChild,wo=function(r,a,e){var n=bo(ye,a);n&&delete ye[a],ze(r,a,e),n&&r!==ye&&ze(ye,a,n)},qn=at&&Tc(function(){return st(ze({},"a",{get:function(){return ze(this,"a",{value:7}).a}})).a!==7})?wo:ze,fn=function(r,a){var e=Ee[r]=st(Et);return zc(e,{type:_r,tag:r,description:a}),at||(e.description=a),e},Nr=function(a,e,n){a===ye&&Nr(Dt,e,n),Gn(a);var t=ka(e);return Gn(n),ne(Ee,t)?(n.enumerable?(ne(a,ce)&&a[ce][t]&&(a[ce][t]=!1),n=st(n,{enumerable:Un(0,!1)})):(ne(a,ce)||ze(a,ce,Un(1,st(null))),a[ce][t]=!0),qn(a,t,n)):ze(a,t,n)},Pa=function(a,e){Gn(a);var n=Or(e),t=co(n).concat(xo(n));return Ar(t,function(s){(!at||xa(Hn,n,s))&&Nr(a,s,n[s])}),a},Hc=function(a,e){return e===void 0?st(a):Pa(st(a),e)},Hn=function(a){var e=ka(a),n=xa(Wc,this,e);return this===ye&&ne(Ee,e)&&!ne(Dt,e)?!1:n||!ne(this,e)||!ne(Ee,e)||ne(this,ce)&&this[ce][e]?n:!0},Eo=function(a,e){var n=Or(a),t=ka(e);if(!(n===ye&&ne(Ee,t)&&!ne(Dt,t))){var s=bo(n,t);return s&&ne(Ee,t)&&!(ne(n,ce)&&n[ce][t])&&(s.enumerable=!0),s}},Ro=function(a){var e=So(Or(a)),n=[];return Ar(e,function(t){!ne(Ee,t)&&!ne(yo,t)&&$o(n,t)}),n},xo=function(r){var a=r===ye,e=So(a?Dt:Or(r)),n=[];return Ar(e,function(t){ne(Ee,t)&&(!a||ne(ye,t))&&$o(n,Ee[t])}),n};it||(je=function(){if(Oc(Et,this))throw new Uc("Symbol is not a constructor");var a=!arguments.length||arguments[0]===void 0?void 0:Ac(arguments[0]),e=oi(a),n=function(t){var s=this===void 0?Mt:this;s===ye&&xa(n,Dt,t),ne(s,ce)&&ne(s[ce],e)&&(s[ce][e]=!1);var i=Un(1,t);try{qn(s,e,i)}catch(o){if(!(o instanceof Gc))throw o;wo(s,e,i)}};return at&&Wn&&qn(ye,e,{configurable:!0,set:n}),fn(e,a)},Et=je[Pt],un(Et,"toString",function(){return ui(this).tag}),un(je,"withoutSetter",function(r){return fn(oi(r),r)}),po.f=Hn,go.f=Nr,Mc.f=Pa,vo.f=Eo,_c.f=ho.f=Ro,Nc.f=xo,Vc.f=function(r){return fn(Lc(r),r)},at&&(Dc(Et,"description",{configurable:!0,get:function(){return ui(this).description}}),un(ye,"propertyIsEnumerable",Hn,{unsafe:!0})));Tr({global:!0,constructor:!0,wrap:!0,forced:!it,sham:!it},{Symbol:je});Ar(co(qc),function(r){Bc(r)});Tr({target:_r,stat:!0,forced:!it},{useSetter:function(){Wn=!0},useSimple:function(){Wn=!1}});Tr({target:"Object",stat:!0,forced:!it,sham:!at},{create:Hc,defineProperty:Nr,defineProperties:Pa,getOwnPropertyDescriptor:Eo});Tr({target:"Object",stat:!0,forced:!it},{getOwnPropertyNames:Ro});Fc();jc(je,_r);yo[ce]=!0;var Yc=$r,ko=Yc&&!!Symbol.for&&!!Symbol.keyFor,Xc=F,Kc=yt,Qc=Pe,Jc=me,Co=dr,Zc=ko,cn=Co("string-to-symbol-registry"),eh=Co("symbol-to-string-registry");Xc({target:"Symbol",stat:!0,forced:!Zc},{for:function(r){var a=Jc(r);if(Qc(cn,a))return cn[a];var e=Kc("Symbol")(a);return cn[a]=e,eh[e]=a,e}});var th=F,rh=Pe,nh=ha,ah=Ws,ih=dr,sh=ko,li=ih("symbol-to-string-registry");th({target:"Symbol",stat:!0,forced:!sh},{keyFor:function(a){if(!nh(a))throw new TypeError(ah(a)+" is not a symbol");if(rh(li,a))return li[a]}});var oh=se,fi=wr,uh=Ce,ci=yr,lh=me,hi=oh([].push),fh=function(r){if(uh(r))return r;if(fi(r)){for(var a=r.length,e=[],n=0;n<a;n++){var t=r[n];typeof t=="string"?hi(e,t):(typeof t=="number"||ci(t)==="Number"||ci(t)==="String")&&hi(e,lh(t))}var s=e.length,i=!0;return function(o,u){if(i)return i=!1,u;if(fi(this))return u;for(var l=0;l<s;l++)if(e[l]===o)return u}}},ch=F,Po=yt,To=Nt,hh=pe,It=se,Oo=ee,vi=Ce,gi=ha,Ao=Er,vh=fh,gh=$r,ph=String,Te=Po("JSON","stringify"),Ht=It(/./.exec),pi=It("".charAt),dh=It("".charCodeAt),yh=It("".replace),mh=It(1 .toString),bh=/[\uD800-\uDFFF]/g,di=/^[\uD800-\uDBFF]$/,yi=/^[\uDC00-\uDFFF]$/,mi=!gh||Oo(function(){var r=Po("Symbol")("stringify detection");return Te([r])!=="[null]"||Te({a:r})!=="{}"||Te(Object(r))!=="{}"}),bi=Oo(function(){return Te("\uDF06\uD834")!=='"\\udf06\\ud834"'||Te("\uDEAD")!=='"\\udead"'}),Sh=function(r,a){var e=Ao(arguments),n=vh(a);if(!(!vi(n)&&(r===void 0||gi(r))))return e[1]=function(t,s){if(vi(n)&&(s=hh(n,this,ph(t),s)),!gi(s))return s},To(Te,null,e)},$h=function(r,a,e){var n=pi(e,a-1),t=pi(e,a+1);return Ht(di,r)&&!Ht(yi,t)||Ht(yi,r)&&!Ht(di,n)?"\\u"+mh(dh(r,0),16):r};Te&&ch({target:"JSON",stat:!0,arity:3,forced:mi||bi},{stringify:function(a,e,n){var t=Ao(arguments),s=To(mi?Sh:Te,null,t);return bi&&typeof s=="string"?yh(s,bh,$h):s}});var wh=F,Eh=$r,Rh=ee,_o=Gs,xh=pt,kh=!Eh||Rh(function(){_o.f(1)});wh({target:"Object",stat:!0,forced:kh},{getOwnPropertySymbols:function(a){var e=_o.f;return e?e(xh(a)):[]}});var Ch=F,Ph=ht.filter,Th=kr,Oh=Th("filter");Ch({target:"Array",proto:!0,forced:!Oh},{filter:function(a){return Ph(this,a,arguments.length>1?arguments[1]:void 0)}});var Ah=ht.forEach,_h=mt,Nh=_h("forEach"),No=Nh?[].forEach:function(a){return Ah(this,a,arguments.length>1?arguments[1]:void 0)},Mh=F,Si=No;Mh({target:"Array",proto:!0,forced:[].forEach!==Si},{forEach:Si});var Dh=F,Ih=ee,Lh=_t,Mo=dt.f,Do=Ue,Vh=!Do||Ih(function(){Mo(1)});Dh({target:"Object",stat:!0,forced:Vh,sham:!Do},{getOwnPropertyDescriptor:function(a,e){return Mo(Lh(a),e)}});var Bh=F,Fh=Ue,jh=rl,zh=_t,Gh=dt,Uh=va;Bh({target:"Object",stat:!0,sham:!Fh},{getOwnPropertyDescriptors:function(a){for(var e=zh(a),n=Gh.f,t=jh(e),s={},i=0,o,u;t.length>i;)u=n(e,o=t[i++]),u!==void 0&&Uh(s,o,u);return s}});var Wh=F,qh=pt,Io=Us,Hh=ee,Yh=Hh(function(){Io(1)});Wh({target:"Object",stat:!0,forced:Yh},{keys:function(a){return Io(qh(a))}});var Lo={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Xh=qs,hn=Xh("span").classList,$i=hn&&hn.constructor&&hn.constructor.prototype,Vo=$i===Object.prototype?void 0:$i,wi=ue,Ei=Lo,Kh=Vo,vn=No,Qh=oa,Bo=function(r){if(r&&r.forEach!==vn)try{Qh(r,"forEach",vn)}catch{r.forEach=vn}};for(var gn in Ei)Ei[gn]&&Bo(wi[gn]&&wi[gn].prototype);Bo(Kh);var Fo={exports:{}},jo={exports:{}};(function(r){function a(e){"@babel/helpers - typeof";return r.exports=a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},r.exports.__esModule=!0,r.exports.default=r.exports,a(e)}r.exports=a,r.exports.__esModule=!0,r.exports.default=r.exports})(jo);var Jh=jo.exports;(function(r){var a=Jh.default;function e(){r.exports=e=function(){return t},r.exports.__esModule=!0,r.exports.default=r.exports;var n,t={},s=Object.prototype,i=s.hasOwnProperty,o=Object.defineProperty||function(d,p,m){d[p]=m.value},u=typeof Symbol=="function"?Symbol:{},l=u.iterator||"@@iterator",f=u.asyncIterator||"@@asyncIterator",c=u.toStringTag||"@@toStringTag";function h(d,p,m){return Object.defineProperty(d,p,{value:m,enumerable:!0,configurable:!0,writable:!0}),d[p]}try{h({},"")}catch{h=function(m,C,A){return m[C]=A}}function v(d,p,m,C){var A=p&&p.prototype instanceof x?p:x,T=Object.create(A.prototype),V=new R(C||[]);return o(T,"_invoke",{value:Q(d,m,V)}),T}function g(d,p,m){try{return{type:"normal",arg:d.call(p,m)}}catch(C){return{type:"throw",arg:C}}}t.wrap=v;var b="suspendedStart",y="suspendedYield",E="executing",k="completed",S={};function x(){}function P(){}function N(){}var L={};h(L,l,function(){return this});var j=Object.getPrototypeOf,U=j&&j(j(w([])));U&&U!==s&&i.call(U,l)&&(L=U);var B=N.prototype=x.prototype=Object.create(L);function W(d){["next","throw","return"].forEach(function(p){h(d,p,function(m){return this._invoke(p,m)})})}function G(d,p){function m(A,T,V,z){var X=g(d[A],d,T);if(X.type!=="throw"){var ie=X.arg,re=ie.value;return re&&a(re)=="object"&&i.call(re,"__await")?p.resolve(re.__await).then(function(de){m("next",de,V,z)},function(de){m("throw",de,V,z)}):p.resolve(re).then(function(de){ie.value=de,V(ie)},function(de){return m("throw",de,V,z)})}z(X.arg)}var C;o(this,"_invoke",{value:function(T,V){function z(){return new p(function(X,ie){m(T,V,X,ie)})}return C=C?C.then(z,z):z()}})}function Q(d,p,m){var C=b;return function(A,T){if(C===E)throw Error("Generator is already running");if(C===k){if(A==="throw")throw T;return{value:n,done:!0}}for(m.method=A,m.arg=T;;){var V=m.delegate;if(V){var z=q(V,m);if(z){if(z===S)continue;return z}}if(m.method==="next")m.sent=m._sent=m.arg;else if(m.method==="throw"){if(C===b)throw C=k,m.arg;m.dispatchException(m.arg)}else m.method==="return"&&m.abrupt("return",m.arg);C=E;var X=g(d,p,m);if(X.type==="normal"){if(C=m.done?k:y,X.arg===S)continue;return{value:X.arg,done:m.done}}X.type==="throw"&&(C=k,m.method="throw",m.arg=X.arg)}}}function q(d,p){var m=p.method,C=d.iterator[m];if(C===n)return p.delegate=null,m==="throw"&&d.iterator.return&&(p.method="return",p.arg=n,q(d,p),p.method==="throw")||m!=="return"&&(p.method="throw",p.arg=new TypeError("The iterator does not provide a '"+m+"' method")),S;var A=g(C,d.iterator,p.arg);if(A.type==="throw")return p.method="throw",p.arg=A.arg,p.delegate=null,S;var T=A.arg;return T?T.done?(p[d.resultName]=T.value,p.next=d.nextLoc,p.method!=="return"&&(p.method="next",p.arg=n),p.delegate=null,S):T:(p.method="throw",p.arg=new TypeError("iterator result is not an object"),p.delegate=null,S)}function H(d){var p={tryLoc:d[0]};1 in d&&(p.catchLoc=d[1]),2 in d&&(p.finallyLoc=d[2],p.afterLoc=d[3]),this.tryEntries.push(p)}function Y(d){var p=d.completion||{};p.type="normal",delete p.arg,d.completion=p}function R(d){this.tryEntries=[{tryLoc:"root"}],d.forEach(H,this),this.reset(!0)}function w(d){if(d||d===""){var p=d[l];if(p)return p.call(d);if(typeof d.next=="function")return d;if(!isNaN(d.length)){var m=-1,C=function A(){for(;++m<d.length;)if(i.call(d,m))return A.value=d[m],A.done=!1,A;return A.value=n,A.done=!0,A};return C.next=C}}throw new TypeError(a(d)+" is not iterable")}return P.prototype=N,o(B,"constructor",{value:N,configurable:!0}),o(N,"constructor",{value:P,configurable:!0}),P.displayName=h(N,c,"GeneratorFunction"),t.isGeneratorFunction=function(d){var p=typeof d=="function"&&d.constructor;return!!p&&(p===P||(p.displayName||p.name)==="GeneratorFunction")},t.mark=function(d){return Object.setPrototypeOf?Object.setPrototypeOf(d,N):(d.__proto__=N,h(d,c,"GeneratorFunction")),d.prototype=Object.create(B),d},t.awrap=function(d){return{__await:d}},W(G.prototype),h(G.prototype,f,function(){return this}),t.AsyncIterator=G,t.async=function(d,p,m,C,A){A===void 0&&(A=Promise);var T=new G(v(d,p,m,C),A);return t.isGeneratorFunction(p)?T:T.next().then(function(V){return V.done?V.value:T.next()})},W(B),h(B,c,"Generator"),h(B,l,function(){return this}),h(B,"toString",function(){return"[object Generator]"}),t.keys=function(d){var p=Object(d),m=[];for(var C in p)m.push(C);return m.reverse(),function A(){for(;m.length;){var T=m.pop();if(T in p)return A.value=T,A.done=!1,A}return A.done=!0,A}},t.values=w,R.prototype={constructor:R,reset:function(p){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(Y),!p)for(var m in this)m.charAt(0)==="t"&&i.call(this,m)&&!isNaN(+m.slice(1))&&(this[m]=n)},stop:function(){this.done=!0;var p=this.tryEntries[0].completion;if(p.type==="throw")throw p.arg;return this.rval},dispatchException:function(p){if(this.done)throw p;var m=this;function C(ie,re){return V.type="throw",V.arg=p,m.next=ie,re&&(m.method="next",m.arg=n),!!re}for(var A=this.tryEntries.length-1;A>=0;--A){var T=this.tryEntries[A],V=T.completion;if(T.tryLoc==="root")return C("end");if(T.tryLoc<=this.prev){var z=i.call(T,"catchLoc"),X=i.call(T,"finallyLoc");if(z&&X){if(this.prev<T.catchLoc)return C(T.catchLoc,!0);if(this.prev<T.finallyLoc)return C(T.finallyLoc)}else if(z){if(this.prev<T.catchLoc)return C(T.catchLoc,!0)}else{if(!X)throw Error("try statement without catch or finally");if(this.prev<T.finallyLoc)return C(T.finallyLoc)}}}},abrupt:function(p,m){for(var C=this.tryEntries.length-1;C>=0;--C){var A=this.tryEntries[C];if(A.tryLoc<=this.prev&&i.call(A,"finallyLoc")&&this.prev<A.finallyLoc){var T=A;break}}T&&(p==="break"||p==="continue")&&T.tryLoc<=m&&m<=T.finallyLoc&&(T=null);var V=T?T.completion:{};return V.type=p,V.arg=m,T?(this.method="next",this.next=T.finallyLoc,S):this.complete(V)},complete:function(p,m){if(p.type==="throw")throw p.arg;return p.type==="break"||p.type==="continue"?this.next=p.arg:p.type==="return"?(this.rval=this.arg=p.arg,this.method="return",this.next="end"):p.type==="normal"&&m&&(this.next=m),S},finish:function(p){for(var m=this.tryEntries.length-1;m>=0;--m){var C=this.tryEntries[m];if(C.finallyLoc===p)return this.complete(C.completion,C.afterLoc),Y(C),S}},catch:function(p){for(var m=this.tryEntries.length-1;m>=0;--m){var C=this.tryEntries[m];if(C.tryLoc===p){var A=C.completion;if(A.type==="throw"){var T=A.arg;Y(C)}return T}}throw Error("illegal catch attempt")},delegateYield:function(p,m,C){return this.delegate={iterator:w(p),resultName:m,nextLoc:C},this.method==="next"&&(this.arg=n),S}},t}r.exports=e,r.exports.__esModule=!0,r.exports.default=r.exports})(Fo);var Zh=Fo.exports,ur=Zh(),ev=ur;try{regeneratorRuntime=ur}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=ur:Function("r","regeneratorRuntime = r")(ur)}const ae=ga(ev);function Ri(r,a,e,n,t,s,i){try{var o=r[s](i),u=o.value}catch(l){return void e(l)}o.done?a(u):Promise.resolve(u).then(n,t)}function Re(r){return function(){var a=this,e=arguments;return new Promise(function(n,t){var s=r.apply(a,e);function i(u){Ri(s,n,t,i,o,"next",u)}function o(u){Ri(s,n,t,i,o,"throw",u)}i(void 0)})}}function ot(r){"@babel/helpers - typeof";return ot=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},ot(r)}function tv(r,a){if(ot(r)!="object"||!r)return r;var e=r[Symbol.toPrimitive];if(e!==void 0){var n=e.call(r,a);if(ot(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}function zo(r){var a=tv(r,"string");return ot(a)=="symbol"?a:a+""}function Go(r,a,e){return(a=zo(a))in r?Object.defineProperty(r,a,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[a]=e,r}function O(r,a){if(!(r instanceof a))throw new TypeError("Cannot call a class as a function")}function xi(r,a){for(var e=0;e<a.length;e++){var n=a[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,zo(n.key),n)}}function _(r,a,e){return a&&xi(r.prototype,a),e&&xi(r,e),Object.defineProperty(r,"prototype",{writable:!1}),r}var rv=TypeError,nv=9007199254740991,av=function(r){if(r>nv)throw rv("Maximum allowed index exceeded");return r},iv=F,sv=ee,ov=wr,uv=Ge,lv=pt,fv=Rr,ki=av,Ci=va,cv=nl,hv=kr,vv=ve,gv=pr,Uo=vv("isConcatSpreadable"),pv=gv>=51||!sv(function(){var r=[];return r[Uo]=!1,r.concat()[0]!==r}),dv=function(r){if(!uv(r))return!1;var a=r[Uo];return a!==void 0?!!a:ov(r)},yv=!pv||!hv("concat");iv({target:"Array",proto:!0,arity:1,forced:yv},{concat:function(a){var e=lv(this),n=cv(e,0),t=0,s,i,o,u,l;for(s=-1,o=arguments.length;s<o;s++)if(l=s===-1?e:arguments[s],dv(l))for(u=fv(l),ki(t+u),i=0;i<u;i++,t++)i in l&&Ci(n,t,l[i]);else ki(t+1),Ci(n,t++,l);return n.length=t,n}});var mv=F,bv=ht.every,Sv=mt,$v=Sv("every");mv({target:"Array",proto:!0,forced:!$v},{every:function(a){return bv(this,a,arguments.length>1?arguments[1]:void 0)}});var wv=We,Ev=pt,Rv=Fs,xv=Rr,Pi=TypeError,Ti="Reduce of empty array with no initial value",kv=function(r){return function(a,e,n,t){var s=Ev(a),i=Rv(s),o=xv(s);if(wv(e),o===0&&n<2)throw new Pi(Ti);var u=r?o-1:0,l=r?-1:1;if(n<2)for(;;){if(u in i){t=i[u],u+=l;break}if(u+=l,r?u<0:o<=u)throw new Pi(Ti)}for(;r?u>=0:o>u;u+=l)u in i&&(t=e(t,i[u],u,s));return t}},Cv={left:kv(!1)},$t=ue,Pv=xr,Tv=yr,Yt=function(r){return Pv.slice(0,r.length)===r},Wo=function(){return Yt("Bun/")?"BUN":Yt("Cloudflare-Workers")?"CLOUDFLARE":Yt("Deno/")?"DENO":Yt("Node.js/")?"NODE":$t.Bun&&typeof Bun.version=="string"?"BUN":$t.Deno&&typeof Deno.version=="object"?"DENO":Tv($t.process)==="process"?"NODE":$t.window&&$t.document?"BROWSER":"REST"}(),Ov=Wo,Mr=Ov==="NODE",Av=F,_v=Cv.left,Nv=mt,Oi=pr,Mv=Mr,Dv=!Mv&&Oi>79&&Oi<83,Iv=Dv||!Nv("reduce");Av({target:"Array",proto:!0,forced:Iv},{reduce:function(a){var e=arguments.length;return _v(this,a,e,e>1?arguments[1]:void 0)}});var Lv=Hs,Vv=Ws,Bv=TypeError,qo=function(r){if(Lv(r))return r;throw new Bv(Vv(r)+" is not a constructor")},Ai=ge,Fv=qo,jv=mr,zv=ve,Gv=zv("species"),Ho=function(r,a){var e=Ai(r).constructor,n;return e===void 0||jv(n=Ai(e)[Gv])?a:Fv(n)},Uv=TypeError,Wv=function(r,a){if(r<a)throw new Uv("Not enough arguments");return r},qv=xr,Yo=/(?:ipad|iphone|ipod).*applewebkit/i.test(qv),he=ue,Hv=Nt,Yv=Ys,_i=Ce,Xv=Pe,Xo=ee,Ni=al,Kv=Er,Mi=qs,Qv=Wv,Jv=Yo,Zv=Mr,Yn=he.setImmediate,Di=he.clearImmediate,eg=he.process,pn=he.Dispatch,tg=he.Function,Ii=he.MessageChannel,rg=he.String,dn=0,kt={},Li="onreadystatechange",Tt,Ie,yn,mn;Xo(function(){Tt=he.location});var Ta=function(r){if(Xv(kt,r)){var a=kt[r];delete kt[r],a()}},bn=function(r){return function(){Ta(r)}},Vi=function(r){Ta(r.data)},Bi=function(r){he.postMessage(rg(r),Tt.protocol+"//"+Tt.host)};(!Yn||!Di)&&(Yn=function(a){Qv(arguments.length,1);var e=_i(a)?a:tg(a),n=Kv(arguments,1);return kt[++dn]=function(){Hv(e,void 0,n)},Ie(dn),dn},Di=function(a){delete kt[a]},Zv?Ie=function(r){eg.nextTick(bn(r))}:pn&&pn.now?Ie=function(r){pn.now(bn(r))}:Ii&&!Jv?(yn=new Ii,mn=yn.port2,yn.port1.onmessage=Vi,Ie=Yv(mn.postMessage,mn)):he.addEventListener&&_i(he.postMessage)&&!he.importScripts&&Tt&&Tt.protocol!=="file:"&&!Xo(Bi)?(Ie=Bi,he.addEventListener("message",Vi,!1)):Li in Mi("script")?Ie=function(r){Ni.appendChild(Mi("script"))[Li]=function(){Ni.removeChild(this),Ta(r)}}:Ie=function(r){setTimeout(bn(r),0)});var Ko={set:Yn},Fi=ue,ng=Ue,ag=Object.getOwnPropertyDescriptor,ig=function(r){if(!ng)return Fi[r];var a=ag(Fi,r);return a&&a.value},Qo=function(){this.head=null,this.tail=null};Qo.prototype={add:function(r){var a={item:r,next:null},e=this.tail;e?e.next=a:this.head=a,this.tail=a},get:function(){var r=this.head;if(r){var a=this.head=r.next;return a===null&&(this.tail=null),r.item}}};var Jo=Qo,sg=xr,og=/ipad|iphone|ipod/i.test(sg)&&typeof Pebble<"u",ug=xr,lg=/web0s(?!.*chrome)/i.test(ug),ut=ue,fg=ig,ji=Ys,Sn=Ko.set,cg=Jo,hg=Yo,vg=og,gg=lg,$n=Mr,zi=ut.MutationObserver||ut.WebKitMutationObserver,Gi=ut.document,Ui=ut.process,Xt=ut.Promise,Xn=fg("queueMicrotask"),Xe,wn,En,Kt,Wi;if(!Xn){var Qt=new cg,Jt=function(){var r,a;for($n&&(r=Ui.domain)&&r.exit();a=Qt.get();)try{a()}catch(e){throw Qt.head&&Xe(),e}r&&r.enter()};!hg&&!$n&&!gg&&zi&&Gi?(wn=!0,En=Gi.createTextNode(""),new zi(Jt).observe(En,{characterData:!0}),Xe=function(){En.data=wn=!wn}):!vg&&Xt&&Xt.resolve?(Kt=Xt.resolve(void 0),Kt.constructor=Xt,Wi=ji(Kt.then,Kt),Xe=function(){Wi(Jt)}):$n?Xe=function(){Ui.nextTick(Jt)}:(Sn=ji(Sn,ut),Xe=function(){Sn(Jt)}),Xn=function(r){Qt.head||Xe(),Qt.add(r)}}var pg=Xn,dg=function(r,a){try{arguments.length===1?console.error(r):console.error(r,a)}catch{}},Oa=function(r){try{return{error:!1,value:r()}}catch(a){return{error:!0,value:a}}},yg=ue,Dr=yg.Promise,mg=ue,Ct=Dr,bg=Ce,Sg=Xs,$g=il,wg=ve,qi=Wo,Rn=pr;Ct&&Ct.prototype;var Eg=wg("species"),Kn=!1,Zo=bg(mg.PromiseRejectionEvent),Rg=Sg("Promise",function(){var r=$g(Ct),a=r!==String(Ct);if(!a&&Rn===66)return!0;if(!Rn||Rn<51||!/native code/.test(r)){var e=new Ct(function(s){s(1)}),n=function(s){s(function(){},function(){})},t=e.constructor={};if(t[Eg]=n,Kn=e.then(function(){})instanceof n,!Kn)return!0}return!a&&(qi==="BROWSER"||qi==="DENO")&&!Zo}),Lt={CONSTRUCTOR:Rg,REJECTION_EVENT:Zo,SUBCLASSING:Kn},bt={},Hi=We,xg=TypeError,kg=function(r){var a,e;this.promise=new r(function(n,t){if(a!==void 0||e!==void 0)throw new xg("Bad Promise constructor");a=n,e=t}),this.resolve=Hi(a),this.reject=Hi(e)};bt.f=function(r){return new kg(r)};var Cg=F,hr=Mr,Oe=ue,lt=pe,Yi=vt,Xi=sl,Pg=ca,Tg=ol,Og=We,lr=Ce,Ag=Ge,_g=ul,Ng=Ho,eu=Ko.set,Aa=pg,Mg=dg,Dg=Oa,Ig=Jo,tu=ia,vr=Dr,_a=Lt,ru=bt,Ir="Promise",nu=_a.CONSTRUCTOR,Lg=_a.REJECTION_EVENT,Vg=_a.SUBCLASSING,xn=tu.getterFor(Ir),Bg=tu.set,Qe=vr&&vr.prototype,Fe=vr,Zt=Qe,au=Oe.TypeError,Qn=Oe.document,Na=Oe.process,Jn=ru.f,Fg=Jn,jg=!!(Qn&&Qn.createEvent&&Oe.dispatchEvent),iu="unhandledrejection",zg="rejectionhandled",Ki=0,su=1,Gg=2,Ma=1,ou=2,er,Qi,Ug,Ji,uu=function(r){var a;return Ag(r)&&lr(a=r.then)?a:!1},lu=function(r,a){var e=a.value,n=a.state===su,t=n?r.ok:r.fail,s=r.resolve,i=r.reject,o=r.domain,u,l,f;try{t?(n||(a.rejection===ou&&qg(a),a.rejection=Ma),t===!0?u=e:(o&&o.enter(),u=t(e),o&&(o.exit(),f=!0)),u===r.promise?i(new au("Promise-chain cycle")):(l=uu(u))?lt(l,u,s,i):s(u)):i(e)}catch(c){o&&!f&&o.exit(),i(c)}},fu=function(r,a){r.notified||(r.notified=!0,Aa(function(){for(var e=r.reactions,n;n=e.get();)lu(n,r);r.notified=!1,a&&!r.rejection&&Wg(r)}))},cu=function(r,a,e){var n,t;jg?(n=Qn.createEvent("Event"),n.promise=a,n.reason=e,n.initEvent(r,!1,!0),Oe.dispatchEvent(n)):n={promise:a,reason:e},!Lg&&(t=Oe["on"+r])?t(n):r===iu&&Mg("Unhandled promise rejection",e)},Wg=function(r){lt(eu,Oe,function(){var a=r.facade,e=r.value,n=Zi(r),t;if(n&&(t=Dg(function(){hr?Na.emit("unhandledRejection",e,a):cu(iu,a,e)}),r.rejection=hr||Zi(r)?ou:Ma,t.error))throw t.value})},Zi=function(r){return r.rejection!==Ma&&!r.parent},qg=function(r){lt(eu,Oe,function(){var a=r.facade;hr?Na.emit("rejectionHandled",a):cu(zg,a,r.value)})},Ze=function(r,a,e){return function(n){r(a,n,e)}},et=function(r,a,e){r.done||(r.done=!0,e&&(r=e),r.value=a,r.state=Gg,fu(r,!0))},Zn=function(r,a,e){if(!r.done){r.done=!0,e&&(r=e);try{if(r.facade===a)throw new au("Promise can't be resolved itself");var n=uu(a);n?Aa(function(){var t={done:!1};try{lt(n,a,Ze(Zn,t,r),Ze(et,t,r))}catch(s){et(t,s,r)}}):(r.value=a,r.state=su,fu(r,!1))}catch(t){et({done:!1},t,r)}}};if(nu&&(Fe=function(a){_g(this,Zt),Og(a),lt(er,this);var e=xn(this);try{a(Ze(Zn,e),Ze(et,e))}catch(n){et(e,n)}},Zt=Fe.prototype,er=function(a){Bg(this,{type:Ir,done:!1,notified:!1,parent:!1,reactions:new Ig,rejection:!1,state:Ki,value:null})},er.prototype=Yi(Zt,"then",function(a,e){var n=xn(this),t=Jn(Ng(this,Fe));return n.parent=!0,t.ok=lr(a)?a:!0,t.fail=lr(e)&&e,t.domain=hr?Na.domain:void 0,n.state===Ki?n.reactions.add(t):Aa(function(){lu(t,n)}),t.promise}),Qi=function(){var r=new er,a=xn(r);this.promise=r,this.resolve=Ze(Zn,a),this.reject=Ze(et,a)},ru.f=Jn=function(r){return r===Fe||r===Ug?new Qi(r):Fg(r)},lr(vr)&&Qe!==Object.prototype)){Ji=Qe.then,Vg||Yi(Qe,"then",function(a,e){var n=this;return new Fe(function(t,s){lt(Ji,n,t,s)}).then(a,e)},{unsafe:!0});try{delete Qe.constructor}catch{}Xi&&Xi(Qe,Zt)}Cg({global:!0,constructor:!0,wrap:!0,forced:nu},{Promise:Fe});Pg(Fe,Ir,!1);Tg(Ir);var Hg=Dr,Yg=ll,Xg=Lt.CONSTRUCTOR,hu=Xg||!Yg(function(r){Hg.all(r).then(void 0,function(){})}),Kg=F,Qg=pe,Jg=We,Zg=bt,ep=Oa,tp=Ks,rp=hu;Kg({target:"Promise",stat:!0,forced:rp},{all:function(a){var e=this,n=Zg.f(e),t=n.resolve,s=n.reject,i=ep(function(){var o=Jg(e.resolve),u=[],l=0,f=1;tp(a,function(c){var h=l++,v=!1;f++,Qg(o,e,c).then(function(g){v||(v=!0,u[h]=g,--f||t(u))},s)}),--f||t(u)});return i.error&&s(i.value),n.promise}});var np=F,ap=Lt.CONSTRUCTOR,ea=Dr,ip=yt,sp=Ce,op=vt,es=ea&&ea.prototype;np({target:"Promise",proto:!0,forced:ap,real:!0},{catch:function(r){return this.then(void 0,r)}});if(sp(ea)){var ts=ip("Promise").prototype.catch;es.catch!==ts&&op(es,"catch",ts,{unsafe:!0})}var up=F,lp=pe,fp=We,cp=bt,hp=Oa,vp=Ks,gp=hu;up({target:"Promise",stat:!0,forced:gp},{race:function(a){var e=this,n=cp.f(e),t=n.reject,s=hp(function(){var i=fp(e.resolve);vp(a,function(o){lp(i,e,o).then(n.resolve,t)})});return s.error&&t(s.value),n.promise}});var pp=F,dp=bt,yp=Lt.CONSTRUCTOR;pp({target:"Promise",stat:!0,forced:yp},{reject:function(a){var e=dp.f(this),n=e.reject;return n(a),e.promise}});var mp=ge,bp=Ge,Sp=bt,$p=function(r,a){if(mp(r),bp(a)&&a.constructor===r)return a;var e=Sp.f(r),n=e.resolve;return n(a),e.promise},wp=F,Ep=yt,Rp=Lt.CONSTRUCTOR,xp=$p;Ep("Promise");wp({target:"Promise",stat:!0,forced:Rp},{resolve:function(a){return xp(this,a)}});var kn=pe,vu=se,kp=Sa,Cp=ge,Pp=mr,Tp=gt,Op=Ho,Ap=$a,_p=br,rs=me,Np=ua,ns=wa,Mp=ro,Dp=ee,Ke=Mp.UNSUPPORTED_Y,Ip=4294967295,Lp=Math.min,Cn=vu([].push),Pn=vu("".slice),Vp=!Dp(function(){var r=/(?:)/,a=r.exec;r.exec=function(){return a.apply(this,arguments)};var e="ab".split(r);return e.length!==2||e[0]!=="a"||e[1]!=="b"}),as="abbc".split(/(b)*/)[1]==="c"||"test".split(/(?:)/,-1).length!==4||"ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||".".split(/()()/).length>1||"".split(/.?/).length;kp("split",function(r,a,e){var n="0".split(void 0,0).length?function(t,s){return t===void 0&&s===0?[]:kn(a,this,t,s)}:a;return[function(s,i){var o=Tp(this),u=Pp(s)?void 0:Np(s,r);return u?kn(u,s,o,i):kn(n,rs(o),s,i)},function(t,s){var i=Cp(this),o=rs(t);if(!as){var u=e(n,i,o,s,n!==a);if(u.done)return u.value}var l=Op(i,RegExp),f=i.unicode,c=(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.unicode?"u":"")+(Ke?"g":"y"),h=new l(Ke?"^(?:"+i.source+")":i,c),v=s===void 0?Ip:s>>>0;if(v===0)return[];if(o.length===0)return ns(h,o)===null?[o]:[];for(var g=0,b=0,y=[];b<o.length;){h.lastIndex=Ke?0:b;var E=ns(h,Ke?Pn(o,b):o),k;if(E===null||(k=Lp(_p(h.lastIndex+(Ke?b:0)),o.length))===g)b=Ap(o,b,f);else{if(Cn(y,Pn(o,g,b)),y.length===v)return y;for(var S=1;S<=E.length-1;S++)if(Cn(y,E[S]),y.length===v)return y;b=g=k}}return Cn(y,Pn(o,g)),y}]},as||!Vp,Ke);var Lr={exports:{}},Rt={exports:{}};(function(){var r,a,e,n,t,s;typeof performance<"u"&&performance!==null&&performance.now?Rt.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(Rt.exports=function(){return(r()-t)/1e6},a=process.hrtime,r=function(){var i;return i=a(),i[0]*1e9+i[1]},n=r(),s=process.uptime()*1e9,t=n-s):Date.now?(Rt.exports=function(){return Date.now()-e},e=Date.now()):(Rt.exports=function(){return new Date().getTime()-e},e=new Date().getTime())}).call(Qs);var Bp=Rt.exports,Fp=Bp,we=typeof window>"u"?Qs:window,tr=["moz","webkit"],tt="AnimationFrame",ft=we["request"+tt],Ot=we["cancel"+tt]||we["cancelRequest"+tt];for(var wt=0;!ft&&wt<tr.length;wt++)ft=we[tr[wt]+"Request"+tt],Ot=we[tr[wt]+"Cancel"+tt]||we[tr[wt]+"CancelRequest"+tt];if(!ft||!Ot){var Tn=0,is=0,Le=[],jp=1e3/60;ft=function(r){if(Le.length===0){var a=Fp(),e=Math.max(0,jp-(a-Tn));Tn=e+a,setTimeout(function(){var n=Le.slice(0);Le.length=0;for(var t=0;t<n.length;t++)if(!n[t].cancelled)try{n[t].callback(Tn)}catch(s){setTimeout(function(){throw s},0)}},Math.round(e))}return Le.push({handle:++is,callback:r,cancelled:!1}),is},Ot=function(r){for(var a=0;a<Le.length;a++)Le[a].handle===r&&(Le[a].cancelled=!0)}}Lr.exports=function(r){return ft.call(we,r)};Lr.exports.cancel=function(){Ot.apply(we,arguments)};Lr.exports.polyfill=function(r){r||(r=we),r.requestAnimationFrame=ft,r.cancelAnimationFrame=Ot};var zp=Lr.exports;const On=ga(zp);var Gp=Ue,Up=pa.EXISTS,gu=se,Wp=fa,pu=Function.prototype,qp=gu(pu.toString),du=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,Hp=gu(du.exec),Yp="name";Gp&&!Up&&Wp(pu,Yp,{configurable:!0,get:function(){try{return Hp(du,qp(this))[1]}catch{return""}}});var Xp=function(r){this.ok=!1,this.alpha=1,r.charAt(0)=="#"&&(r=r.substr(1,6)),r=r.replace(/ /g,""),r=r.toLowerCase();var a={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};r=a[r]||r;for(var e=[{re:/^rgba\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*((?:\d?\.)?\d)\)$/,example:["rgba(123, 234, 45, 0.8)","rgba(255,234,245,1.0)"],process:function(u){return[parseInt(u[1]),parseInt(u[2]),parseInt(u[3]),parseFloat(u[4])]}},{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(u){return[parseInt(u[1]),parseInt(u[2]),parseInt(u[3])]}},{re:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,example:["#00ff00","336699"],process:function(u){return[parseInt(u[1],16),parseInt(u[2],16),parseInt(u[3],16)]}},{re:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,example:["#fb0","f0f"],process:function(u){return[parseInt(u[1]+u[1],16),parseInt(u[2]+u[2],16),parseInt(u[3]+u[3],16)]}}],n=0;n<e.length;n++){var t=e[n].re,s=e[n].process,i=t.exec(r);if(i){var o=s(i);this.r=o[0],this.g=o[1],this.b=o[2],o.length>3&&(this.alpha=o[3]),this.ok=!0}}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.alpha=this.alpha<0?0:this.alpha>1||isNaN(this.alpha)?1:this.alpha,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toRGBA=function(){return"rgba("+this.r+", "+this.g+", "+this.b+", "+this.alpha+")"},this.toHex=function(){var u=this.r.toString(16),l=this.g.toString(16),f=this.b.toString(16);return u.length==1&&(u="0"+u),l.length==1&&(l="0"+l),f.length==1&&(f="0"+f),"#"+u+l+f},this.getHelpXML=function(){for(var u=new Array,l=0;l<e.length;l++)for(var f=e[l].example,c=0;c<f.length;c++)u[u.length]=f[c];for(var h in a)u[u.length]=h;var v=document.createElement("ul");v.setAttribute("id","rgbcolor-examples");for(var l=0;l<u.length;l++)try{var g=document.createElement("li"),b=new RGBColor(u[l]),y=document.createElement("div");y.style.cssText="margin: 3px; border: 1px solid black; background:"+b.toHex()+"; color:"+b.toHex(),y.appendChild(document.createTextNode("test"));var E=document.createTextNode(" "+u[l]+" -> "+b.toRGB()+" -> "+b.toHex());g.appendChild(y),g.appendChild(E),v.appendChild(g)}catch{}return v}};const ta=ga(Xp);var yu=se,Kp=We,Qp=Ge,Jp=Pe,ss=Er,Zp=Vs,mu=Function,ed=yu([].concat),td=yu([].join),An={},rd=function(r,a,e){if(!Jp(An,a)){for(var n=[],t=0;t<a;t++)n[t]="a["+t+"]";An[a]=mu("C,a","return new C("+td(n,",")+")")}return An[a](r,e)},nd=Zp?mu.bind:function(a){var e=Kp(this),n=e.prototype,t=ss(arguments,1),s=function(){var o=ed(t,ss(arguments));return this instanceof s?rd(e,o.length,o):e.apply(a,o)};return Qp(n)&&(s.prototype=n),s},ad=F,id=yt,_n=Nt,sd=nd,os=qo,od=ge,us=Ge,ud=sa,bu=ee,Da=id("Reflect","construct"),ld=Object.prototype,fd=[].push,Su=bu(function(){function r(){}return!(Da(function(){},[],r)instanceof r)}),$u=!bu(function(){Da(function(){})}),ls=Su||$u;ad({target:"Reflect",stat:!0,forced:ls,sham:ls},{construct:function(a,e){os(a),od(e);var n=arguments.length<3?a:os(arguments[2]);if($u&&!Su)return Da(a,e,n);if(a===n){switch(e.length){case 0:return new a;case 1:return new a(e[0]);case 2:return new a(e[0],e[1]);case 3:return new a(e[0],e[1],e[2]);case 4:return new a(e[0],e[1],e[2],e[3])}var t=[null];return _n(fd,t,e),new(_n(sd,a,t))}var s=n.prototype,i=ud(us(s)?s:ld),o=_n(a,i,e);return us(o)?o:i}});var cd=pe,hd=Pe,vd=Sr,gd=to,fs=RegExp.prototype,pd=function(r){var a=r.flags;return a===void 0&&!("flags"in fs)&&!hd(r,"flags")&&vd(fs,r)?cd(gd,r):a},dd=pa.PROPER,yd=vt,md=ge,cs=me,bd=ee,Sd=pd,Ia="toString",wu=RegExp.prototype,Eu=wu[Ia],$d=bd(function(){return Eu.call({source:"a",flags:"b"})!=="/a/b"}),wd=dd&&Eu.name!==Ia;($d||wd)&&yd(wu,Ia,function(){var a=md(this),e=cs(a.source),n=cs(Sd(a));return"/"+e+"/"+n},{unsafe:!0});function ct(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function M(r,a){if(a&&(ot(a)=="object"||typeof a=="function"))return a;if(a!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ct(r)}function $(r){return $=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},$(r)}function I(r,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(a&&a.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),a&&fl(r,a)}var Ed=F,Rd=Js.includes,xd=ee,kd=Zs,Cd=xd(function(){return!Array(1).includes()});Ed({target:"Array",proto:!0,forced:Cd},{includes:function(a){return Rd(this,a,arguments.length>1?arguments[1]:void 0)}});kd("includes");var Pd=F,Td=ht.some,Od=mt,Ad=Od("some");Pd({target:"Array",proto:!0,forced:!Ad},{some:function(a){return Td(this,a,arguments.length>1?arguments[1]:void 0)}});var _d=F,Nd=se,Md=so,Dd=gt,hs=me,Id=oo,Ld=Nd("".indexOf);_d({target:"String",proto:!0,forced:!Id("includes")},{includes:function(a){return!!~Ld(hs(Dd(this)),hs(Md(a)),arguments.length>1?arguments[1]:void 0)}});var Ru=`	
\v\f\r                　\u2028\u2029\uFEFF`,Vd=se,Bd=gt,Fd=me,ra=Ru,vs=Vd("".replace),jd=RegExp("^["+ra+"]+"),zd=RegExp("(^|[^"+ra+"])["+ra+"]+$"),Gd=function(r){return function(a){var e=Fd(Bd(a));return r&1&&(e=vs(e,jd,"")),r&2&&(e=vs(e,zd,"$1")),e}},xu={trim:Gd(3)},Ud=pa.PROPER,Wd=ee,gs=Ru,ps="​᠎",qd=function(r){return Wd(function(){return!!gs[r]()||ps[r]()!==ps||Ud&&gs[r].name!==r})},Hd=F,Yd=xu.trim,Xd=qd;Hd({target:"String",proto:!0,forced:Xd("trim")},{trim:function(){return Yd(this)}});function Kd(r){if(Array.isArray(r))return zn(r)}function Qd(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function Jd(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zd(r){return Kd(r)||Qd(r)||lo(r)||Jd()}var ey=F,ty=Bs,ry=Js.indexOf,ny=mt,na=ty([].indexOf),ku=!!na&&1/na([1],1,-0)<0,ay=ku||!ny("indexOf");ey({target:"Array",proto:!0,forced:ay},{indexOf:function(a){var e=arguments.length>1?arguments[1]:void 0;return ku?na(this,a,e)||0:ry(this,a,e)}});var iy=F,sy=se,oy=wr,uy=sy([].reverse),ds=[1,2];iy({target:"Array",proto:!0,forced:String(ds)===String(ds.reverse())},{reverse:function(){return oy(this)&&(this.length=this.length),uy(this)}});function ly(r,a){for(;!{}.hasOwnProperty.call(r,a)&&(r=$(r))!==null;);return r}function xe(){return xe=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(r,a,e){var n=ly(r,a);if(n){var t=Object.getOwnPropertyDescriptor(n,a);return t.get?t.get.call(arguments.length<3?r:e):t.value}},xe.apply(null,arguments)}var fy=se,cy=fy(1 .valueOf),hy=F,vy=yl,gy=Ue,Cu=ue,Pu=js,Tu=se,py=Xs,ys=Pe,dy=cl,yy=Sr,my=ha,Ou=hl,by=ee,Sy=zs.f,$y=dt.f,wy=la.f,Ey=cy,Ry=xu.trim,Vr="Number",rt=Cu[Vr];Pu[Vr];var La=rt.prototype,xy=Cu.TypeError,ky=Tu("".slice),rr=Tu("".charCodeAt),Cy=function(r){var a=Ou(r,"number");return typeof a=="bigint"?a:Py(a)},Py=function(r){var a=Ou(r,"number"),e,n,t,s,i,o,u,l;if(my(a))throw new xy("Cannot convert a Symbol value to a number");if(typeof a=="string"&&a.length>2){if(a=Ry(a),e=rr(a,0),e===43||e===45){if(n=rr(a,2),n===88||n===120)return NaN}else if(e===48){switch(rr(a,1)){case 66:case 98:t=2,s=49;break;case 79:case 111:t=8,s=55;break;default:return+a}for(i=ky(a,2),o=i.length,u=0;u<o;u++)if(l=rr(i,u),l<48||l>s)return NaN;return parseInt(i,t)}}return+a},Va=py(Vr,!rt(" 0o1")||!rt("0b1")||rt("+0x1")),Ty=function(r){return yy(La,r)&&by(function(){Ey(r)})},Br=function(a){var e=arguments.length<1?0:rt(Cy(a));return Ty(this)?dy(Object(e),this,Br):e};Br.prototype=La;Va&&(La.constructor=Br);hy({global:!0,constructor:!0,wrap:!0,forced:Va},{Number:Br});var Oy=function(r,a){for(var e=gy?Sy(a):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),n=0,t;e.length>n;n++)ys(a,t=e[n])&&!ys(r,t)&&wy(r,t,$y(a,t))};(Va||vy)&&Oy(Pu[Vr],rt);var Ay=pt,ms=eo,_y=Rr,Ny=function(a){for(var e=Ay(this),n=_y(e),t=arguments.length,s=ms(t>1?arguments[1]:void 0,n),i=t>2?arguments[2]:void 0,o=i===void 0?n:ms(i,n);o>s;)e[s++]=a;return e},My=F,Dy=Ny,Iy=Zs;My({target:"Array",proto:!0},{fill:Dy});Iy("fill");var Ly=F,Vy=ge,By=dt.f;Ly({target:"Reflect",stat:!0},{deleteProperty:function(a,e){var n=By(Vy(a),e);return n&&!n.configurable?!1:delete a[e]}});var bs=ue,Au=Lo,Fy=Vo,xt=vl,Ss=oa,jy=ca,zy=ve,Nn=zy("iterator"),Mn=xt.values,_u=function(r,a){if(r){if(r[Nn]!==Mn)try{Ss(r,Nn,Mn)}catch{r[Nn]=Mn}if(jy(r,a,!0),Au[a]){for(var e in xt)if(r[e]!==xt[e])try{Ss(r,e,xt[e])}catch{r[e]=xt[e]}}}};for(var Dn in Au)_u(bs[Dn]&&bs[Dn].prototype,Dn);_u(Fy,"DOMTokenList");var Gy=F,Uy=Ue,Wy=ue,nr=se,qy=Pe,Hy=Ce,Yy=Sr,Xy=me,Ky=fa,Qy=gl,$e=Wy.Symbol,Ve=$e&&$e.prototype;if(Uy&&Hy($e)&&(!("description"in Ve)||$e().description!==void 0)){var $s={},ar=function(){var a=arguments.length<1||arguments[0]===void 0?void 0:Xy(arguments[0]),e=Yy(Ve,this)?new $e(a):a===void 0?$e():$e(a);return a===""&&($s[e]=!0),e};Qy(ar,$e),ar.prototype=Ve,Ve.constructor=ar;var Jy=String($e("description detection"))==="Symbol(description detection)",Zy=nr(Ve.valueOf),em=nr(Ve.toString),tm=/^Symbol\((.*)\)[^)]+$/,rm=nr("".replace),nm=nr("".slice);Ky(Ve,"description",{configurable:!0,get:function(){var a=Zy(this);if(qy($s,a))return"";var e=em(a),n=Jy?nm(e,7,-1):rm(e,tm,"$1");return n===""?void 0:n}}),Gy({global:!0,constructor:!0,forced:!0},{Symbol:ar})}var am=fo;am("iterator");var im=F,ws=wr,sm=Hs,om=Ge,Es=eo,um=Rr,lm=_t,fm=va,cm=ve,hm=kr,vm=Er,gm=hm("slice"),pm=cm("species"),In=Array,dm=Math.max;im({target:"Array",proto:!0,forced:!gm},{slice:function(a,e){var n=lm(this),t=um(n),s=Es(a,t),i=Es(e===void 0?t:e,t),o,u,l;if(ws(n)&&(o=n.constructor,sm(o)&&(o===In||ws(o.prototype))?o=void 0:om(o)&&(o=o[pm],o===null&&(o=void 0)),o===In||o===void 0))return vm(n,s,i);for(u=new(o===void 0?In:o)(dm(i-s,0)),l=0;s<i;s++,l++)s in n&&fm(u,l,n[s]);return u.length=l,u}});var ym=F,mm=Nt,bm=We,Sm=ge,$m=ee,wm=!$m(function(){Reflect.apply(function(){})});ym({target:"Reflect",stat:!0,forced:wm},{apply:function(a,e,n){return mm(bm(a),e,Sm(n))}});var Em=F,Rm=ge,xm=pl,km=dl;Em({target:"Reflect",stat:!0,sham:!km},{getPrototypeOf:function(a){return xm(Rm(a))}});function fr(r){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?fr=function(a){return typeof a}:fr=function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},fr(r)}function Cm(r,a){if(!(r instanceof a))throw new TypeError("Cannot call a class as a function")}var Pm=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],Tm=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function Om(r,a,e,n,t){if(typeof r=="string"&&(r=document.getElementById(r)),!r||fr(r)!=="object"||!("getContext"in r))throw new TypeError("Expecting canvas with `getContext` method in processCanvasRGB(A) calls!");var s=r.getContext("2d");try{return s.getImageData(a,e,n,t)}catch(i){throw new Error("unable to access image data: "+i)}}function Am(r,a,e,n,t,s){if(!(isNaN(s)||s<1)){s|=0;var i=Om(r,a,e,n,t);i=_m(i,a,e,n,t,s),r.getContext("2d").putImageData(i,a,e)}}function _m(r,a,e,n,t,s){for(var i=r.data,o=2*s+1,u=n-1,l=t-1,f=s+1,c=f*(f+1)/2,h=new Rs,v=h,g,b=1;b<o;b++)v=v.next=new Rs,b===f&&(g=v);v.next=h;for(var y=null,E=null,k=0,S=0,x=Pm[s],P=Tm[s],N=0;N<t;N++){v=h;for(var L=i[S],j=i[S+1],U=i[S+2],B=i[S+3],W=0;W<f;W++)v.r=L,v.g=j,v.b=U,v.a=B,v=v.next;for(var G=0,Q=0,q=0,H=0,Y=f*L,R=f*j,w=f*U,d=f*B,p=c*L,m=c*j,C=c*U,A=c*B,T=1;T<f;T++){var V=S+((u<T?u:T)<<2),z=i[V],X=i[V+1],ie=i[V+2],re=i[V+3],de=f-T;p+=(v.r=z)*de,m+=(v.g=X)*de,C+=(v.b=ie)*de,A+=(v.a=re)*de,G+=z,Q+=X,q+=ie,H+=re,v=v.next}y=h,E=g;for(var Gr=0;Gr<n;Gr++){var Ur=A*x>>>P;if(i[S+3]=Ur,Ur!==0){var Wr=255/Ur;i[S]=(p*x>>>P)*Wr,i[S+1]=(m*x>>>P)*Wr,i[S+2]=(C*x>>>P)*Wr}else i[S]=i[S+1]=i[S+2]=0;p-=Y,m-=R,C-=w,A-=d,Y-=y.r,R-=y.g,w-=y.b,d-=y.a;var _e=Gr+s+1;_e=k+(_e<u?_e:u)<<2,G+=y.r=i[_e],Q+=y.g=i[_e+1],q+=y.b=i[_e+2],H+=y.a=i[_e+3],p+=G,m+=Q,C+=q,A+=H,y=y.next;var Ft=E,ja=Ft.r,za=Ft.g,Ga=Ft.b,Ua=Ft.a;Y+=ja,R+=za,w+=Ga,d+=Ua,G-=ja,Q-=za,q-=Ga,H-=Ua,E=E.next,S+=4}k+=n}for(var He=0;He<n;He++){S=He<<2;var Ne=i[S],Me=i[S+1],De=i[S+2],le=i[S+3],qr=f*Ne,Hr=f*Me,Yr=f*De,Xr=f*le,jt=c*Ne,zt=c*Me,Gt=c*De,Ut=c*le;v=h;for(var Wa=0;Wa<f;Wa++)v.r=Ne,v.g=Me,v.b=De,v.a=le,v=v.next;for(var qa=n,Kr=0,Qr=0,Jr=0,Zr=0,Wt=1;Wt<=s;Wt++){S=qa+He<<2;var qt=f-Wt;jt+=(v.r=Ne=i[S])*qt,zt+=(v.g=Me=i[S+1])*qt,Gt+=(v.b=De=i[S+2])*qt,Ut+=(v.a=le=i[S+3])*qt,Zr+=Ne,Kr+=Me,Qr+=De,Jr+=le,v=v.next,Wt<l&&(qa+=n)}S=He,y=h,E=g;for(var en=0;en<t;en++){var fe=S<<2;i[fe+3]=le=Ut*x>>>P,le>0?(le=255/le,i[fe]=(jt*x>>>P)*le,i[fe+1]=(zt*x>>>P)*le,i[fe+2]=(Gt*x>>>P)*le):i[fe]=i[fe+1]=i[fe+2]=0,jt-=qr,zt-=Hr,Gt-=Yr,Ut-=Xr,qr-=y.r,Hr-=y.g,Yr-=y.b,Xr-=y.a,fe=He+((fe=en+f)<l?fe:l)*n<<2,jt+=Zr+=y.r=i[fe],zt+=Kr+=y.g=i[fe+1],Gt+=Qr+=y.b=i[fe+2],Ut+=Jr+=y.a=i[fe+3],y=y.next,qr+=Ne=E.r,Hr+=Me=E.g,Yr+=De=E.b,Xr+=le=E.a,Zr-=Ne,Kr-=Me,Qr-=De,Jr-=le,E=E.next,S+=n}}return r}var Rs=function r(){Cm(this,r),this.r=0,this.g=0,this.b=0,this.a=0,this.next=null};function St(r){return r.replace(/(?!\u3000)\s+/gm," ")}function Nm(r){return r.replace(/^[\n \t]+/,"")}function Mm(r){return r.replace(/[\n \t]+$/,"")}function oe(r){var a=(r||"").match(/-?(\d+(?:\.\d*(?:[eE][+-]?\d+)?)?|\.\d+)(?=\D|$)/gm)||[];return a.map(parseFloat)}var Dm=/^[A-Z-]+$/;function Im(r){return Dm.test(r)?r.toLowerCase():r}function Nu(r){var a=r.match(/url\(('([^']+)'|"([^"]+)"|([^'"\)]+))\)/)||[];return a[2]||a[3]||a[4]}function Lm(r){if(!r.startsWith("rgb"))return r;var a=3,e=r.replace(/\d+(\.\d+)?/g,function(n,t){return a--&&t?String(Math.round(parseFloat(n))):n});return e}var Vm=/(\[[^\]]+\])/g,Bm=/(#[^\s\+>~\.\[:]+)/g,Fm=/(\.[^\s\+>~\.\[:]+)/g,jm=/(::[^\s\+>~\.\[:]+|:first-line|:first-letter|:before|:after)/gi,zm=/(:[\w-]+\([^\)]*\))/gi,Gm=/(:[^\s\+>~\.\[:]+)/g,Um=/([^\s\+>~\.\[:]+)/g;function Be(r,a){var e=r.match(a);return e?[r.replace(a," "),e.length]:[r,0]}function Wm(r){var a=[0,0,0],e=r.replace(/:not\(([^\)]*)\)/g,"     $1 ").replace(/{[\s\S]*/gm," "),n=0,t=Be(e,Vm),s=K(t,2);e=s[0],n=s[1],a[1]+=n;var i=Be(e,Bm),o=K(i,2);e=o[0],n=o[1],a[0]+=n;var u=Be(e,Fm),l=K(u,2);e=l[0],n=l[1],a[1]+=n;var f=Be(e,jm),c=K(f,2);e=c[0],n=c[1],a[2]+=n;var h=Be(e,zm),v=K(h,2);e=v[0],n=v[1],a[1]+=n;var g=Be(e,Gm),b=K(g,2);e=b[0],n=b[1],a[1]+=n,e=e.replace(/[\*\s\+>~]/g," ").replace(/[#\.]/g," ");var y=Be(e,Um),E=K(y,2);return e=E[0],n=E[1],a[2]+=n,a.join("")}var nt=1e-8;function xs(r){return Math.sqrt(Math.pow(r[0],2)+Math.pow(r[1],2))}function At(r,a){return(r[0]*a[0]+r[1]*a[1])/(xs(r)*xs(a))}function gr(r,a){return(r[0]*a[1]<r[1]*a[0]?-1:1)*Math.acos(At(r,a))}function ks(r){return r*r*r}function Cs(r){return 3*r*r*(1-r)}function Ps(r){return 3*r*(1-r)*(1-r)}function Ts(r){return(1-r)*(1-r)*(1-r)}function Os(r){return r*r}function As(r){return 2*r*(1-r)}function _s(r){return(1-r)*(1-r)}function qm(r,a){return a={exports:{}},r(a,a.exports),a.exports}qm(function(r){var a=function(e){var n=Object.prototype,t=n.hasOwnProperty,s,i=typeof Symbol=="function"?Symbol:{},o=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function f(R,w,d,p){var m=w&&w.prototype instanceof E?w:E,C=Object.create(m.prototype),A=new q(p||[]);return C._invoke=B(R,d,A),C}e.wrap=f;function c(R,w,d){try{return{type:"normal",arg:R.call(w,d)}}catch(p){return{type:"throw",arg:p}}}var h="suspendedStart",v="suspendedYield",g="executing",b="completed",y={};function E(){}function k(){}function S(){}var x={};x[o]=function(){return this};var P=Object.getPrototypeOf,N=P&&P(P(H([])));N&&N!==n&&t.call(N,o)&&(x=N);var L=S.prototype=E.prototype=Object.create(x);k.prototype=L.constructor=S,S.constructor=k,S[l]=k.displayName="GeneratorFunction";function j(R){["next","throw","return"].forEach(function(w){R[w]=function(d){return this._invoke(w,d)}})}e.isGeneratorFunction=function(R){var w=typeof R=="function"&&R.constructor;return w?w===k||(w.displayName||w.name)==="GeneratorFunction":!1},e.mark=function(R){return Object.setPrototypeOf?Object.setPrototypeOf(R,S):(R.__proto__=S,l in R||(R[l]="GeneratorFunction")),R.prototype=Object.create(L),R},e.awrap=function(R){return{__await:R}};function U(R,w){function d(C,A,T,V){var z=c(R[C],R,A);if(z.type==="throw")V(z.arg);else{var X=z.arg,ie=X.value;return ie&&typeof ie=="object"&&t.call(ie,"__await")?w.resolve(ie.__await).then(function(re){d("next",re,T,V)},function(re){d("throw",re,T,V)}):w.resolve(ie).then(function(re){X.value=re,T(X)},function(re){return d("throw",re,T,V)})}}var p;function m(C,A){function T(){return new w(function(V,z){d(C,A,V,z)})}return p=p?p.then(T,T):T()}this._invoke=m}j(U.prototype),U.prototype[u]=function(){return this},e.AsyncIterator=U,e.async=function(R,w,d,p,m){m===void 0&&(m=Promise);var C=new U(f(R,w,d,p),m);return e.isGeneratorFunction(w)?C:C.next().then(function(A){return A.done?A.value:C.next()})};function B(R,w,d){var p=h;return function(C,A){if(p===g)throw new Error("Generator is already running");if(p===b){if(C==="throw")throw A;return Y()}for(d.method=C,d.arg=A;;){var T=d.delegate;if(T){var V=W(T,d);if(V){if(V===y)continue;return V}}if(d.method==="next")d.sent=d._sent=d.arg;else if(d.method==="throw"){if(p===h)throw p=b,d.arg;d.dispatchException(d.arg)}else d.method==="return"&&d.abrupt("return",d.arg);p=g;var z=c(R,w,d);if(z.type==="normal"){if(p=d.done?b:v,z.arg===y)continue;return{value:z.arg,done:d.done}}else z.type==="throw"&&(p=b,d.method="throw",d.arg=z.arg)}}}function W(R,w){var d=R.iterator[w.method];if(d===s){if(w.delegate=null,w.method==="throw"){if(R.iterator.return&&(w.method="return",w.arg=s,W(R,w),w.method==="throw"))return y;w.method="throw",w.arg=new TypeError("The iterator does not provide a 'throw' method")}return y}var p=c(d,R.iterator,w.arg);if(p.type==="throw")return w.method="throw",w.arg=p.arg,w.delegate=null,y;var m=p.arg;if(!m)return w.method="throw",w.arg=new TypeError("iterator result is not an object"),w.delegate=null,y;if(m.done)w[R.resultName]=m.value,w.next=R.nextLoc,w.method!=="return"&&(w.method="next",w.arg=s);else return m;return w.delegate=null,y}j(L),L[l]="Generator",L[o]=function(){return this},L.toString=function(){return"[object Generator]"};function G(R){var w={tryLoc:R[0]};1 in R&&(w.catchLoc=R[1]),2 in R&&(w.finallyLoc=R[2],w.afterLoc=R[3]),this.tryEntries.push(w)}function Q(R){var w=R.completion||{};w.type="normal",delete w.arg,R.completion=w}function q(R){this.tryEntries=[{tryLoc:"root"}],R.forEach(G,this),this.reset(!0)}e.keys=function(R){var w=[];for(var d in R)w.push(d);return w.reverse(),function p(){for(;w.length;){var m=w.pop();if(m in R)return p.value=m,p.done=!1,p}return p.done=!0,p}};function H(R){if(R){var w=R[o];if(w)return w.call(R);if(typeof R.next=="function")return R;if(!isNaN(R.length)){var d=-1,p=function m(){for(;++d<R.length;)if(t.call(R,d))return m.value=R[d],m.done=!1,m;return m.value=s,m.done=!0,m};return p.next=p}}return{next:Y}}e.values=H;function Y(){return{value:s,done:!0}}return q.prototype={constructor:q,reset:function(R){if(this.prev=0,this.next=0,this.sent=this._sent=s,this.done=!1,this.delegate=null,this.method="next",this.arg=s,this.tryEntries.forEach(Q),!R)for(var w in this)w.charAt(0)==="t"&&t.call(this,w)&&!isNaN(+w.slice(1))&&(this[w]=s)},stop:function(){this.done=!0;var R=this.tryEntries[0],w=R.completion;if(w.type==="throw")throw w.arg;return this.rval},dispatchException:function(R){if(this.done)throw R;var w=this;function d(V,z){return C.type="throw",C.arg=R,w.next=V,z&&(w.method="next",w.arg=s),!!z}for(var p=this.tryEntries.length-1;p>=0;--p){var m=this.tryEntries[p],C=m.completion;if(m.tryLoc==="root")return d("end");if(m.tryLoc<=this.prev){var A=t.call(m,"catchLoc"),T=t.call(m,"finallyLoc");if(A&&T){if(this.prev<m.catchLoc)return d(m.catchLoc,!0);if(this.prev<m.finallyLoc)return d(m.finallyLoc)}else if(A){if(this.prev<m.catchLoc)return d(m.catchLoc,!0)}else if(T){if(this.prev<m.finallyLoc)return d(m.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(R,w){for(var d=this.tryEntries.length-1;d>=0;--d){var p=this.tryEntries[d];if(p.tryLoc<=this.prev&&t.call(p,"finallyLoc")&&this.prev<p.finallyLoc){var m=p;break}}m&&(R==="break"||R==="continue")&&m.tryLoc<=w&&w<=m.finallyLoc&&(m=null);var C=m?m.completion:{};return C.type=R,C.arg=w,m?(this.method="next",this.next=m.finallyLoc,y):this.complete(C)},complete:function(R,w){if(R.type==="throw")throw R.arg;return R.type==="break"||R.type==="continue"?this.next=R.arg:R.type==="return"?(this.rval=this.arg=R.arg,this.method="return",this.next="end"):R.type==="normal"&&w&&(this.next=w),y},finish:function(R){for(var w=this.tryEntries.length-1;w>=0;--w){var d=this.tryEntries[w];if(d.finallyLoc===R)return this.complete(d.completion,d.afterLoc),Q(d),y}},catch:function(R){for(var w=this.tryEntries.length-1;w>=0;--w){var d=this.tryEntries[w];if(d.tryLoc===R){var p=d.completion;if(p.type==="throw"){var m=p.arg;Q(d)}return m}}throw new Error("illegal catch attempt")},delegateYield:function(R,w,d){return this.delegate={iterator:H(R),resultName:w,nextLoc:d},this.method==="next"&&(this.arg=s),y}},e}(r.exports);try{regeneratorRuntime=a}catch{Function("r","regeneratorRuntime = r")(a)}});var D=function(){function r(a,e,n){O(this,r),this.document=a,this.name=e,this.value=n,this.isNormalizedColor=!1}return _(r,[{key:"hasValue",value:function(){var e=this.value;return e!==null&&e!==""&&e!==0&&typeof e<"u"}},{key:"isString",value:function(e){var n=this.value,t=typeof n=="string";return!t||!e?t:e.test(n)}},{key:"isUrlDefinition",value:function(){return this.isString(/^url\(/)}},{key:"isPixels",value:function(){if(!this.hasValue())return!1;var e=this.getString();switch(!0){case/px$/.test(e):case/^[0-9]+$/.test(e):return!0;default:return!1}}},{key:"setValue",value:function(e){return this.value=e,this}},{key:"getValue",value:function(e){return typeof e>"u"||this.hasValue()?this.value:e}},{key:"getNumber",value:function(e){if(!this.hasValue())return typeof e>"u"?0:parseFloat(e);var n=this.value,t=parseFloat(n);return this.isString(/%$/)&&(t=t/100),t}},{key:"getString",value:function(e){return typeof e>"u"||this.hasValue()?typeof this.value>"u"?"":String(this.value):String(e)}},{key:"getColor",value:function(e){var n=this.getString(e);return this.isNormalizedColor||(this.isNormalizedColor=!0,n=Lm(n),this.value=n),n}},{key:"getDpi",value:function(){return 96}},{key:"getRem",value:function(){return this.document.rootEmSize}},{key:"getEm",value:function(){return this.document.emSize}},{key:"getUnits",value:function(){return this.getString().replace(/[0-9\.\-]/g,"")}},{key:"getPixels",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!this.hasValue())return 0;var t=typeof e=="boolean"?[void 0,e]:[e],s=K(t,2),i=s[0],o=s[1],u=this.document.screen.viewPort;switch(!0){case this.isString(/vmin$/):return this.getNumber()/100*Math.min(u.computeSize("x"),u.computeSize("y"));case this.isString(/vmax$/):return this.getNumber()/100*Math.max(u.computeSize("x"),u.computeSize("y"));case this.isString(/vw$/):return this.getNumber()/100*u.computeSize("x");case this.isString(/vh$/):return this.getNumber()/100*u.computeSize("y");case this.isString(/rem$/):return this.getNumber()*this.getRem();case this.isString(/em$/):return this.getNumber()*this.getEm();case this.isString(/ex$/):return this.getNumber()*this.getEm()/2;case this.isString(/px$/):return this.getNumber();case this.isString(/pt$/):return this.getNumber()*this.getDpi()*(1/72);case this.isString(/pc$/):return this.getNumber()*15;case this.isString(/cm$/):return this.getNumber()*this.getDpi()/2.54;case this.isString(/mm$/):return this.getNumber()*this.getDpi()/25.4;case this.isString(/in$/):return this.getNumber()*this.getDpi();case(this.isString(/%$/)&&o):return this.getNumber()*this.getEm();case this.isString(/%$/):return this.getNumber()*u.computeSize(i);default:{var l=this.getNumber();return n&&l<1?l*u.computeSize(i):l}}}},{key:"getMilliseconds",value:function(){return this.hasValue()?this.isString(/ms$/)?this.getNumber():this.getNumber()*1e3:0}},{key:"getRadians",value:function(){if(!this.hasValue())return 0;switch(!0){case this.isString(/deg$/):return this.getNumber()*(Math.PI/180);case this.isString(/grad$/):return this.getNumber()*(Math.PI/200);case this.isString(/rad$/):return this.getNumber();default:return this.getNumber()*(Math.PI/180)}}},{key:"getDefinition",value:function(){var e=this.getString(),n=e.match(/#([^\)'"]+)/);return n&&(n=n[1]),n||(n=e),this.document.definitions[n]}},{key:"getFillStyleDefinition",value:function(e,n){var t=this.getDefinition();if(!t)return null;if(typeof t.createGradient=="function")return t.createGradient(this.document.ctx,e,n);if(typeof t.createPattern=="function"){if(t.getHrefAttribute().hasValue()){var s=t.getAttribute("patternTransform");t=t.getHrefAttribute().getDefinition(),s.hasValue()&&t.getAttribute("patternTransform",!0).setValue(s.value)}return t.createPattern(this.document.ctx,e,n)}return null}},{key:"getTextBaseline",value:function(){return this.hasValue()?r.textBaselineMapping[this.getString()]:null}},{key:"addOpacity",value:function(e){for(var n=this.getColor(),t=n.length,s=0,i=0;i<t&&(n[i]===","&&s++,s!==3);i++);if(e.hasValue()&&this.isString()&&s!==3){var o=new ta(n);o.ok&&(o.alpha=e.getNumber(),n=o.toRGBA())}return new r(this.document,this.name,n)}}],[{key:"empty",value:function(e){return new r(e,"EMPTY","")}}]),r}();D.textBaselineMapping={baseline:"alphabetic","before-edge":"top","text-before-edge":"top",middle:"middle",central:"middle","after-edge":"bottom","text-after-edge":"bottom",ideographic:"ideographic",alphabetic:"alphabetic",hanging:"hanging",mathematical:"alphabetic"};var Hm=function(){function r(){O(this,r),this.viewPorts=[]}return _(r,[{key:"clear",value:function(){this.viewPorts=[]}},{key:"setCurrent",value:function(e,n){this.viewPorts.push({width:e,height:n})}},{key:"removeCurrent",value:function(){this.viewPorts.pop()}},{key:"getCurrent",value:function(){var e=this.viewPorts;return e[e.length-1]}},{key:"computeSize",value:function(e){return typeof e=="number"?e:e==="x"?this.width:e==="y"?this.height:Math.sqrt(Math.pow(this.width,2)+Math.pow(this.height,2))/Math.sqrt(2)}},{key:"width",get:function(){return this.getCurrent().width}},{key:"height",get:function(){return this.getCurrent().height}}]),r}(),J=function(){function r(a,e){O(this,r),this.x=a,this.y=e}return _(r,[{key:"angleTo",value:function(e){return Math.atan2(e.y-this.y,e.x-this.x)}},{key:"applyTransform",value:function(e){var n=this.x,t=this.y,s=n*e[0]+t*e[2]+e[4],i=n*e[1]+t*e[3]+e[5];this.x=s,this.y=i}}],[{key:"parse",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=oe(e),s=K(t,2),i=s[0],o=i===void 0?n:i,u=s[1],l=u===void 0?n:u;return new r(o,l)}},{key:"parseScale",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,t=oe(e),s=K(t,2),i=s[0],o=i===void 0?n:i,u=s[1],l=u===void 0?o:u;return new r(o,l)}},{key:"parsePath",value:function(e){for(var n=oe(e),t=n.length,s=[],i=0;i<t;i+=2)s.push(new r(n[i],n[i+1]));return s}}]),r}(),Ym=function(){function r(a){O(this,r),this.screen=a,this.working=!1,this.events=[],this.eventElements=[],this.onClick=this.onClick.bind(this),this.onMouseMove=this.onMouseMove.bind(this)}return _(r,[{key:"isWorking",value:function(){return this.working}},{key:"start",value:function(){if(!this.working){var e=this.screen,n=this.onClick,t=this.onMouseMove,s=e.ctx.canvas;s.onclick=n,s.onmousemove=t,this.working=!0}}},{key:"stop",value:function(){if(this.working){var e=this.screen.ctx.canvas;this.working=!1,e.onclick=null,e.onmousemove=null}}},{key:"hasEvents",value:function(){return this.working&&this.events.length>0}},{key:"runEvents",value:function(){if(this.working){var e=this.screen,n=this.events,t=this.eventElements,s=e.ctx.canvas.style;s&&(s.cursor=""),n.forEach(function(i,o){for(var u=i.run,l=t[o];l;)u(l),l=l.parent}),this.events=[],this.eventElements=[]}}},{key:"checkPath",value:function(e,n){if(!(!this.working||!n)){var t=this.events,s=this.eventElements;t.forEach(function(i,o){var u=i.x,l=i.y;!s[o]&&n.isPointInPath&&n.isPointInPath(u,l)&&(s[o]=e)})}}},{key:"checkBoundingBox",value:function(e,n){if(!(!this.working||!n)){var t=this.events,s=this.eventElements;t.forEach(function(i,o){var u=i.x,l=i.y;!s[o]&&n.isPointInBox(u,l)&&(s[o]=e)})}}},{key:"mapXY",value:function(e,n){for(var t=this.screen,s=t.window,i=t.ctx,o=new J(e,n),u=i.canvas;u;)o.x-=u.offsetLeft,o.y-=u.offsetTop,u=u.offsetParent;return s.scrollX&&(o.x+=s.scrollX),s.scrollY&&(o.y+=s.scrollY),o}},{key:"onClick",value:function(e){var n=this.mapXY((e||event).clientX,(e||event).clientY),t=n.x,s=n.y;this.events.push({type:"onclick",x:t,y:s,run:function(o){o.onClick&&o.onClick()}})}},{key:"onMouseMove",value:function(e){var n=this.mapXY((e||event).clientX,(e||event).clientY),t=n.x,s=n.y;this.events.push({type:"onmousemove",x:t,y:s,run:function(o){o.onMouseMove&&o.onMouseMove()}})}}]),r}(),Mu=typeof window<"u"?window:null,Du=typeof fetch<"u"?fetch.bind(void 0):null,Fr=function(){function r(a){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.fetch,t=n===void 0?Du:n,s=e.window,i=s===void 0?Mu:s;O(this,r),this.ctx=a,this.FRAMERATE=30,this.MAX_VIRTUAL_PIXELS=3e4,this.CLIENT_WIDTH=800,this.CLIENT_HEIGHT=600,this.viewPort=new Hm,this.mouse=new Ym(this),this.animations=[],this.waits=[],this.frameDuration=0,this.isReadyLock=!1,this.isFirstRender=!0,this.intervalId=null,this.window=i,this.fetch=t}return _(r,[{key:"wait",value:function(e){this.waits.push(e)}},{key:"ready",value:function(){return this.readyPromise?this.readyPromise:Promise.resolve()}},{key:"isReady",value:function(){if(this.isReadyLock)return!0;var e=this.waits.every(function(n){return n()});return e&&(this.waits=[],this.resolveReady&&this.resolveReady()),this.isReadyLock=e,e}},{key:"setDefaults",value:function(e){e.strokeStyle="rgba(0,0,0,0)",e.lineCap="butt",e.lineJoin="miter",e.miterLimit=4}},{key:"setViewBox",value:function(e){var n=e.document,t=e.ctx,s=e.aspectRatio,i=e.width,o=e.desiredWidth,u=e.height,l=e.desiredHeight,f=e.minX,c=f===void 0?0:f,h=e.minY,v=h===void 0?0:h,g=e.refX,b=e.refY,y=e.clip,E=y===void 0?!1:y,k=e.clipX,S=k===void 0?0:k,x=e.clipY,P=x===void 0?0:x,N=St(s).replace(/^defer\s/,""),L=N.split(" "),j=K(L,2),U=j[0],B=j[1],W=U||"xMidYMid",G=B||"meet",Q=i/o,q=u/l,H=Math.min(Q,q),Y=Math.max(Q,q),R=o,w=l;G==="meet"&&(R*=H,w*=H),G==="slice"&&(R*=Y,w*=Y);var d=new D(n,"refX",g),p=new D(n,"refY",b),m=d.hasValue()&&p.hasValue();if(m&&t.translate(-H*d.getPixels("x"),-H*p.getPixels("y")),E){var C=H*S,A=H*P;t.beginPath(),t.moveTo(C,A),t.lineTo(i,A),t.lineTo(i,u),t.lineTo(C,u),t.closePath(),t.clip()}if(!m){var T=G==="meet"&&H===q,V=G==="slice"&&Y===q,z=G==="meet"&&H===Q,X=G==="slice"&&Y===Q;/^xMid/.test(W)&&(T||V)&&t.translate(i/2-R/2,0),/YMid$/.test(W)&&(z||X)&&t.translate(0,u/2-w/2),/^xMax/.test(W)&&(T||V)&&t.translate(i-R,0),/YMax$/.test(W)&&(z||X)&&t.translate(0,u-w)}switch(!0){case W==="none":t.scale(Q,q);break;case G==="meet":t.scale(H,H);break;case G==="slice":t.scale(Y,Y);break}t.translate(-c,-v)}},{key:"start",value:function(e){var n=this,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=t.enableRedraw,i=s===void 0?!1:s,o=t.ignoreMouse,u=o===void 0?!1:o,l=t.ignoreAnimation,f=l===void 0?!1:l,c=t.ignoreDimensions,h=c===void 0?!1:c,v=t.ignoreClear,g=v===void 0?!1:v,b=t.forceRedraw,y=t.scaleWidth,E=t.scaleHeight,k=t.offsetX,S=t.offsetY,x=this.FRAMERATE,P=this.mouse,N=1e3/x;if(this.frameDuration=N,this.readyPromise=new Promise(function(W){n.resolveReady=W}),this.isReady()&&this.render(e,h,g,y,E,k,S),!!i){var L=Date.now(),j=L,U=0,B=function W(){L=Date.now(),U=L-j,U>=N&&(j=L-U%N,n.shouldUpdate(f,b)&&(n.render(e,h,g,y,E,k,S),P.runEvents())),n.intervalId=On(W)};u||P.start(),this.intervalId=On(B)}}},{key:"stop",value:function(){this.intervalId&&(On.cancel(this.intervalId),this.intervalId=null),this.mouse.stop()}},{key:"shouldUpdate",value:function(e,n){if(!e){var t=this.frameDuration,s=this.animations.reduce(function(i,o){return o.update(t)||i},!1);if(s)return!0}return!!(typeof n=="function"&&n()||!this.isReadyLock&&this.isReady()||this.mouse.hasEvents())}},{key:"render",value:function(e,n,t,s,i,o,u){var l=this.CLIENT_WIDTH,f=this.CLIENT_HEIGHT,c=this.viewPort,h=this.ctx,v=this.isFirstRender,g=h.canvas;c.clear(),g.width&&g.height?c.setCurrent(g.width,g.height):c.setCurrent(l,f);var b=e.getStyle("width"),y=e.getStyle("height");!n&&(v||typeof s!="number"&&typeof i!="number")&&(b.hasValue()&&(g.width=b.getPixels("x"),g.style&&(g.style.width="".concat(g.width,"px"))),y.hasValue()&&(g.height=y.getPixels("y"),g.style&&(g.style.height="".concat(g.height,"px"))));var E=g.clientWidth||g.width,k=g.clientHeight||g.height;if(n&&b.hasValue()&&y.hasValue()&&(E=b.getPixels("x"),k=y.getPixels("y")),c.setCurrent(E,k),typeof o=="number"&&e.getAttribute("x",!0).setValue(o),typeof u=="number"&&e.getAttribute("y",!0).setValue(u),typeof s=="number"||typeof i=="number"){var S=oe(e.getAttribute("viewBox").getString()),x=0,P=0;if(typeof s=="number"){var N=e.getStyle("width");N.hasValue()?x=N.getPixels("x")/s:isNaN(S[2])||(x=S[2]/s)}if(typeof i=="number"){var L=e.getStyle("height");L.hasValue()?P=L.getPixels("y")/i:isNaN(S[3])||(P=S[3]/i)}x||(x=P),P||(P=x),e.getAttribute("width",!0).setValue(s),e.getAttribute("height",!0).setValue(i);var j=e.getStyle("transform",!0,!0);j.setValue("".concat(j.getString()," scale(").concat(1/x,", ").concat(1/P,")"))}t||h.clearRect(0,0,E,k),e.render(h),v&&(this.isFirstRender=!1)}}]),r}();Fr.defaultWindow=Mu;Fr.defaultFetch=Du;var Xm=Fr.defaultFetch,Km=typeof DOMParser<"u"?DOMParser:null,Ln=function(){function r(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=a.fetch,n=e===void 0?Xm:e,t=a.DOMParser,s=t===void 0?Km:t;O(this,r),this.fetch=n,this.DOMParser=s}return _(r,[{key:"parse",value:function(){var a=Re(ae.mark(function n(t){return ae.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(!/^</.test(t)){i.next=2;break}return i.abrupt("return",this.parseFromString(t));case 2:return i.abrupt("return",this.load(t));case 3:case"end":return i.stop()}},n,this)}));function e(n){return a.apply(this,arguments)}return e}()},{key:"parseFromString",value:function(e){var n=new this.DOMParser;try{return this.checkDocument(n.parseFromString(e,"image/svg+xml"))}catch{return this.checkDocument(n.parseFromString(e,"text/xml"))}}},{key:"checkDocument",value:function(e){var n=e.getElementsByTagName("parsererror")[0];if(n)throw new Error(n.textContent);return e}},{key:"load",value:function(){var a=Re(ae.mark(function n(t){var s,i;return ae.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,this.fetch(t);case 2:return s=u.sent,u.next=5,s.text();case 5:return i=u.sent,u.abrupt("return",this.parseFromString(i));case 7:case"end":return u.stop()}},n,this)}));function e(n){return a.apply(this,arguments)}return e}()}]),r}(),Qm=function(){function r(a,e){O(this,r),this.type="translate",this.point=null,this.point=J.parse(e)}return _(r,[{key:"apply",value:function(e){var n=this.point,t=n.x,s=n.y;e.translate(t||0,s||0)}},{key:"unapply",value:function(e){var n=this.point,t=n.x,s=n.y;e.translate(-1*t||0,-1*s||0)}},{key:"applyToPoint",value:function(e){var n=this.point,t=n.x,s=n.y;e.applyTransform([1,0,0,1,t||0,s||0])}}]),r}(),Jm=function(){function r(a,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];O(this,r),this.type="rotate",this.angle=null,this.cx=0,this.cy=0;var t=oe(e);this.angle=new D(a,"angle",t[0]),this.cx=(t[1]||0)+(n[0]||0),this.cy=(t[2]||0)+(n[1]||0)}return _(r,[{key:"apply",value:function(e){var n=this.cx,t=this.cy,s=this.angle;e.translate(n,t),e.rotate(s.getRadians()),e.translate(-n,-t)}},{key:"unapply",value:function(e){var n=this.cx,t=this.cy,s=this.angle;e.translate(n,t),e.rotate(-1*s.getRadians()),e.translate(-n,-t)}},{key:"applyToPoint",value:function(e){var n=this.cx,t=this.cy,s=this.angle,i=s.getRadians();e.applyTransform([1,0,0,1,n||0,t||0]),e.applyTransform([Math.cos(i),Math.sin(i),-Math.sin(i),Math.cos(i),0,0]),e.applyTransform([1,0,0,1,-n||0,-t||0])}}]),r}(),Zm=function(){function r(a,e){O(this,r),this.type="scale",this.scale=null;var n=J.parseScale(e);(n.x===0||n.y===0)&&(n.x=nt,n.y=nt),this.scale=n}return _(r,[{key:"apply",value:function(e){var n=this.scale,t=n.x,s=n.y;e.scale(t,s||t)}},{key:"unapply",value:function(e){var n=this.scale,t=n.x,s=n.y;e.scale(1/t,1/s||t)}},{key:"applyToPoint",value:function(e){var n=this.scale,t=n.x,s=n.y;e.applyTransform([t||0,0,0,s||0,0,0])}}]),r}(),Iu=function(){function r(a,e){O(this,r),this.type="matrix",this.matrix=[],this.matrix=oe(e)}return _(r,[{key:"apply",value:function(e){var n=this.matrix;e.transform(n[0],n[1],n[2],n[3],n[4],n[5])}},{key:"unapply",value:function(e){var n=this.matrix,t=n[0],s=n[2],i=n[4],o=n[1],u=n[3],l=n[5],f=0,c=0,h=1,v=1/(t*(u*h-l*c)-s*(o*h-l*f)+i*(o*c-u*f));e.transform(v*(u*h-l*c),v*(l*f-o*h),v*(i*c-s*h),v*(t*h-i*f),v*(s*l-i*u),v*(i*o-t*l))}},{key:"applyToPoint",value:function(e){e.applyTransform(this.matrix)}}]),r}();function e0(r){return function(){var a=$(r),e;if(t0()){var n=$(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return M(this,e)}}function t0(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var Lu=function(r){I(e,r);var a=e0(e);function e(n,t){var s;return O(this,e),s=a.call(this,n,t),s.type="skew",s.angle=null,s.angle=new D(n,"angle",t),s}return e}(Iu);function r0(r){return function(){var a=$(r),e;if(n0()){var n=$(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return M(this,e)}}function n0(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var a0=function(r){I(e,r);var a=r0(e);function e(n,t){var s;return O(this,e),s=a.call(this,n,t),s.type="skewX",s.matrix=[1,0,Math.tan(s.angle.getRadians()),1,0,0],s}return e}(Lu);function i0(r){return function(){var a=$(r),e;if(s0()){var n=$(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return M(this,e)}}function s0(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var o0=function(r){I(e,r);var a=i0(e);function e(n,t){var s;return O(this,e),s=a.call(this,n,t),s.type="skewY",s.matrix=[1,Math.tan(s.angle.getRadians()),0,1,0,0],s}return e}(Lu);function u0(r){return St(r).trim().replace(/\)([a-zA-Z])/g,") $1").replace(/\)(\s?,\s?)/g,") ").split(/\s(?=[a-z])/)}function l0(r){var a=r.split("("),e=K(a,2),n=e[0],t=e[1];return[n.trim(),t.trim().replace(")","")]}var jr=function(){function r(a,e,n){var t=this;O(this,r),this.document=a,this.transforms=[];var s=u0(e),i=n?oe(n):[];s.forEach(function(o){if(o!=="none"){var u=l0(o),l=K(u,2),f=l[0],c=l[1],h=r.transformTypes[f];typeof h<"u"&&t.transforms.push(new h(t.document,c,i))}})}return _(r,[{key:"apply",value:function(e){for(var n=this.transforms,t=n.length,s=0;s<t;s++)n[s].apply(e)}},{key:"unapply",value:function(e){for(var n=this.transforms,t=n.length,s=t-1;s>=0;s--)n[s].unapply(e)}},{key:"applyToPoint",value:function(e){for(var n=this.transforms,t=n.length,s=0;s<t;s++)n[s].applyToPoint(e)}}],[{key:"fromElement",value:function(e,n){var t=n.getStyle("transform",!1,!0),s=n.getStyle("transform-origin",!1,!0);return t.hasValue()?new r(e,t.getString(),s.getString()):null}}]),r}();jr.transformTypes={translate:Qm,rotate:Jm,scale:Zm,matrix:Iu,skewX:a0,skewY:o0};var Z=function(){function r(a,e){var n=this,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(O(this,r),this.document=a,this.node=e,this.captureTextNodes=t,this.attributes={},this.styles={},this.stylesSpecificity={},this.animationFrozen=!1,this.animationFrozenValue="",this.parent=null,this.children=[],!(!e||e.nodeType!==1)){if(Array.from(e.attributes).forEach(function(u){var l=Im(u.nodeName);n.attributes[l]=new D(a,l,u.value)}),this.addStylesFromStyleDefinition(),this.getAttribute("style").hasValue()){var s=this.getAttribute("style").getString().split(";").map(function(u){return u.trim()});s.forEach(function(u){if(u){var l=u.split(":").map(function(v){return v.trim()}),f=K(l,2),c=f[0],h=f[1];n.styles[c]=new D(a,c,h)}})}var i=a.definitions,o=this.getAttribute("id");o.hasValue()&&(i[o.getValue()]||(i[o.getValue()]=this)),Array.from(e.childNodes).forEach(function(u){if(u.nodeType===1)n.addChild(u);else if(t&&(u.nodeType===3||u.nodeType===4)){var l=a.createTextNode(u);l.getText().length>0&&n.addChild(l)}})}}return _(r,[{key:"getAttribute",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,t=this.attributes[e];if(!t&&n){var s=new D(this.document,e,"");return this.attributes[e]=s,s}return t||D.empty(this.document)}},{key:"getHrefAttribute",value:function(){for(var e in this.attributes)if(e==="href"||/:href$/.test(e))return this.attributes[e];return D.empty(this.document)}},{key:"getStyle",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,s=this.styles[e];if(s)return s;var i=this.getAttribute(e);if(i&&i.hasValue())return this.styles[e]=i,i;if(!t){var o=this.parent;if(o){var u=o.getStyle(e);if(u&&u.hasValue())return u}}if(n){var l=new D(this.document,e,"");return this.styles[e]=l,l}return s||D.empty(this.document)}},{key:"render",value:function(e){if(!(this.getStyle("display").getString()==="none"||this.getStyle("visibility").getString()==="hidden")){if(e.save(),this.getStyle("mask").hasValue()){var n=this.getStyle("mask").getDefinition();n&&(this.applyEffects(e),n.apply(e,this))}else if(this.getStyle("filter").getValue("none")!=="none"){var t=this.getStyle("filter").getDefinition();t&&(this.applyEffects(e),t.apply(e,this))}else this.setContext(e),this.renderChildren(e),this.clearContext(e);e.restore()}}},{key:"setContext",value:function(e){}},{key:"applyEffects",value:function(e){var n=jr.fromElement(this.document,this);n&&n.apply(e);var t=this.getStyle("clip-path",!1,!0);if(t.hasValue()){var s=t.getDefinition();s&&s.apply(e)}}},{key:"clearContext",value:function(e){}},{key:"renderChildren",value:function(e){this.children.forEach(function(n){n.render(e)})}},{key:"addChild",value:function(e){var n=e instanceof r?e:this.document.createElement(e);n.parent=this,r.ignoreChildTypes.includes(n.type)||this.children.push(n)}},{key:"matchesSelector",value:function(e){var n=this.node;if(typeof n.matches=="function")return n.matches(e);var t=n.getAttribute("class");return!t||t===""?!1:t.split(" ").some(function(s){if(".".concat(s)===e)return!0})}},{key:"addStylesFromStyleDefinition",value:function(){var e=this.document,n=e.styles,t=e.stylesSpecificity;for(var s in n)if(s[0]!=="@"&&this.matchesSelector(s)){var i=n[s],o=t[s];if(i)for(var u in i){var l=this.stylesSpecificity[u];typeof l>"u"&&(l="000"),o>=l&&(this.styles[u]=i[u],this.stylesSpecificity[u]=o)}}}},{key:"removeStyles",value:function(e,n){var t=n.reduce(function(s,i){var o=e.getStyle(i);if(!o.hasValue())return s;var u=o.getString();return o.setValue(""),[].concat(Zd(s),[[i,u]])},[]);return t}},{key:"restoreStyles",value:function(e,n){n.forEach(function(t){var s=K(t,2),i=s[0],o=s[1];e.getStyle(i,!0).setValue(o)})}}]),r}();Z.ignoreChildTypes=["title"];function f0(r){return function(){var a=$(r),e;if(c0()){var n=$(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return M(this,e)}}function c0(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var h0=function(r){I(e,r);var a=f0(e);function e(n,t,s){var i;return O(this,e),i=a.call(this,n,t,s),i}return e}(Z);function v0(r){var a=r.trim();return/^('|")/.test(a)?a:'"'.concat(a,'"')}function g0(r){return typeof process>"u"?r:r.trim().split(",").map(v0).join(",")}function p0(r){if(!r)return"";var a=r.trim().toLowerCase();switch(a){case"normal":case"italic":case"oblique":case"inherit":case"initial":case"unset":return a;default:return/^oblique\s+(-|)\d+deg$/.test(a)?a:""}}function d0(r){if(!r)return"";var a=r.trim().toLowerCase();switch(a){case"normal":case"bold":case"lighter":case"bolder":case"inherit":case"initial":case"unset":return a;default:return/^[\d.]+$/.test(a)?a:""}}var ke=function(){function r(a,e,n,t,s,i){O(this,r);var o=i?typeof i=="string"?r.parse(i):i:{};this.fontFamily=s||o.fontFamily,this.fontSize=t||o.fontSize,this.fontStyle=a||o.fontStyle,this.fontWeight=n||o.fontWeight,this.fontVariant=e||o.fontVariant}return _(r,[{key:"toString",value:function(){return[p0(this.fontStyle),this.fontVariant,d0(this.fontWeight),this.fontSize,g0(this.fontFamily)].join(" ").trim()}}],[{key:"parse",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1?arguments[1]:void 0,t="",s="",i="",o="",u="",l=St(e).trim().split(" "),f={fontSize:!1,fontStyle:!1,fontWeight:!1,fontVariant:!1};return l.forEach(function(c){switch(!0){case(!f.fontStyle&&r.styles.includes(c)):c!=="inherit"&&(t=c),f.fontStyle=!0;break;case(!f.fontVariant&&r.variants.includes(c)):c!=="inherit"&&(s=c),f.fontStyle=!0,f.fontVariant=!0;break;case(!f.fontWeight&&r.weights.includes(c)):c!=="inherit"&&(i=c),f.fontStyle=!0,f.fontVariant=!0,f.fontWeight=!0;break;case!f.fontSize:if(c!=="inherit"){var h=c.split("/"),v=K(h,1);o=v[0]}f.fontStyle=!0,f.fontVariant=!0,f.fontWeight=!0,f.fontSize=!0;break;default:c!=="inherit"&&(u+=c)}}),new r(t,s,i,o,u,n)}}]),r}();ke.styles="normal|italic|oblique|inherit";ke.variants="normal|small-caps|inherit";ke.weights="normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit";var be=function(){function r(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Number.NaN,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.NaN,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Number.NaN,t=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Number.NaN;O(this,r),this.x1=a,this.y1=e,this.x2=n,this.y2=t,this.addPoint(a,e),this.addPoint(n,t)}return _(r,[{key:"addPoint",value:function(e,n){typeof e<"u"&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=e,this.x2=e),e<this.x1&&(this.x1=e),e>this.x2&&(this.x2=e)),typeof n<"u"&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=n,this.y2=n),n<this.y1&&(this.y1=n),n>this.y2&&(this.y2=n))}},{key:"addX",value:function(e){this.addPoint(e,null)}},{key:"addY",value:function(e){this.addPoint(null,e)}},{key:"addBoundingBox",value:function(e){if(e){var n=e.x1,t=e.y1,s=e.x2,i=e.y2;this.addPoint(n,t),this.addPoint(s,i)}}},{key:"sumCubic",value:function(e,n,t,s,i){return Math.pow(1-e,3)*n+3*Math.pow(1-e,2)*e*t+3*(1-e)*Math.pow(e,2)*s+Math.pow(e,3)*i}},{key:"bezierCurveAdd",value:function(e,n,t,s,i){var o=6*n-12*t+6*s,u=-3*n+9*t-9*s+3*i,l=3*t-3*n;if(u===0){if(o===0)return;var f=-l/o;0<f&&f<1&&(e?this.addX(this.sumCubic(f,n,t,s,i)):this.addY(this.sumCubic(f,n,t,s,i)));return}var c=Math.pow(o,2)-4*l*u;if(!(c<0)){var h=(-o+Math.sqrt(c))/(2*u);0<h&&h<1&&(e?this.addX(this.sumCubic(h,n,t,s,i)):this.addY(this.sumCubic(h,n,t,s,i)));var v=(-o-Math.sqrt(c))/(2*u);0<v&&v<1&&(e?this.addX(this.sumCubic(v,n,t,s,i)):this.addY(this.sumCubic(v,n,t,s,i)))}}},{key:"addBezierCurve",value:function(e,n,t,s,i,o,u,l){this.addPoint(e,n),this.addPoint(u,l),this.bezierCurveAdd(!0,e,t,i,u),this.bezierCurveAdd(!1,n,s,o,l)}},{key:"addQuadraticCurve",value:function(e,n,t,s,i,o){var u=e+.6666666666666666*(t-e),l=n+2/3*(s-n),f=u+1/3*(i-e),c=l+1/3*(o-n);this.addBezierCurve(e,n,u,f,l,c,i,o)}},{key:"isPointInBox",value:function(e,n){var t=this.x1,s=this.y1,i=this.x2,o=this.y2;return t<=e&&e<=i&&s<=n&&n<=o}},{key:"x",get:function(){return this.x1}},{key:"y",get:function(){return this.y1}},{key:"width",get:function(){return this.x2-this.x1}},{key:"height",get:function(){return this.y2-this.y1}}]),r}();function y0(r){return function(){var a=$(r),e;if(m0()){var n=$(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return M(this,e)}}function m0(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var qe=function(r){I(e,r);var a=y0(e);function e(){var n;return O(this,e),n=a.apply(this,arguments),n.modifiedEmSizeStack=!1,n}return _(e,[{key:"calculateOpacity",value:function(){for(var t=1,s=this;s;){var i=s.getStyle("opacity",!1,!0);i.hasValue()&&(t*=i.getNumber()),s=s.parent}return t}},{key:"setContext",value:function(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!s){var i=this.getStyle("fill"),o=this.getStyle("fill-opacity"),u=this.getStyle("stroke"),l=this.getStyle("stroke-opacity");if(i.isUrlDefinition()){var f=i.getFillStyleDefinition(this,o);f&&(t.fillStyle=f)}else if(i.hasValue()){i.getString()==="currentColor"&&i.setValue(this.getStyle("color").getColor());var c=i.getColor();c!=="inherit"&&(t.fillStyle=c==="none"?"rgba(0,0,0,0)":c)}if(o.hasValue()){var h=new D(this.document,"fill",t.fillStyle).addOpacity(o).getColor();t.fillStyle=h}if(u.isUrlDefinition()){var v=u.getFillStyleDefinition(this,l);v&&(t.strokeStyle=v)}else if(u.hasValue()){u.getString()==="currentColor"&&u.setValue(this.getStyle("color").getColor());var g=u.getString();g!=="inherit"&&(t.strokeStyle=g==="none"?"rgba(0,0,0,0)":g)}if(l.hasValue()){var b=new D(this.document,"stroke",t.strokeStyle).addOpacity(l).getString();t.strokeStyle=b}var y=this.getStyle("stroke-width");if(y.hasValue()){var E=y.getPixels();t.lineWidth=E||nt}var k=this.getStyle("stroke-linecap"),S=this.getStyle("stroke-linejoin"),x=this.getStyle("stroke-miterlimit"),P=this.getStyle("paint-order"),N=this.getStyle("stroke-dasharray"),L=this.getStyle("stroke-dashoffset");if(k.hasValue()&&(t.lineCap=k.getString()),S.hasValue()&&(t.lineJoin=S.getString()),x.hasValue()&&(t.miterLimit=x.getNumber()),P.hasValue()&&(t.paintOrder=P.getValue()),N.hasValue()&&N.getString()!=="none"){var j=oe(N.getString());typeof t.setLineDash<"u"?t.setLineDash(j):typeof t.webkitLineDash<"u"?t.webkitLineDash=j:typeof t.mozDash<"u"&&!(j.length===1&&j[0]===0)&&(t.mozDash=j);var U=L.getPixels();typeof t.lineDashOffset<"u"?t.lineDashOffset=U:typeof t.webkitLineDashOffset<"u"?t.webkitLineDashOffset=U:typeof t.mozDashOffset<"u"&&(t.mozDashOffset=U)}}if(this.modifiedEmSizeStack=!1,typeof t.font<"u"){var B=this.getStyle("font"),W=this.getStyle("font-style"),G=this.getStyle("font-variant"),Q=this.getStyle("font-weight"),q=this.getStyle("font-size"),H=this.getStyle("font-family"),Y=new ke(W.getString(),G.getString(),Q.getString(),q.hasValue()?"".concat(q.getPixels(!0),"px"):"",H.getString(),ke.parse(B.getString(),t.font));W.setValue(Y.fontStyle),G.setValue(Y.fontVariant),Q.setValue(Y.fontWeight),q.setValue(Y.fontSize),H.setValue(Y.fontFamily),t.font=Y.toString(),q.isPixels()&&(this.document.emSize=q.getPixels(),this.modifiedEmSizeStack=!0)}s||(this.applyEffects(t),t.globalAlpha=this.calculateOpacity())}},{key:"clearContext",value:function(t){xe($(e.prototype),"clearContext",this).call(this,t),this.modifiedEmSizeStack&&this.document.popEmSize()}}]),e}(Z);function b0(r){return function(){var a=$(r),e;if(S0()){var n=$(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return M(this,e)}}function S0(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var Vt=function(r){I(e,r);var a=b0(e);function e(n,t,s){var i;return O(this,e),i=a.call(this,n,t,(this instanceof e?this.constructor:void 0)===e?!0:s),i.type="text",i.x=0,i.y=0,i.measureCache=-1,i}return _(e,[{key:"setContext",value:function(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;xe($(e.prototype),"setContext",this).call(this,t,s);var i=this.getStyle("dominant-baseline").getTextBaseline()||this.getStyle("alignment-baseline").getTextBaseline();i&&(t.textBaseline=i)}},{key:"initializeCoordinates",value:function(t){this.x=this.getAttribute("x").getPixels("x"),this.y=this.getAttribute("y").getPixels("y");var s=this.getAttribute("dx"),i=this.getAttribute("dy");s.hasValue()&&(this.x+=s.getPixels("x")),i.hasValue()&&(this.y+=i.getPixels("y")),this.x+=this.getAnchorDelta(t,this,0)}},{key:"getBoundingBox",value:function(t){var s=this;if(this.type!=="text")return this.getTElementBoundingBox(t);this.initializeCoordinates(t);var i=null;return this.children.forEach(function(o,u){var l=s.getChildBoundingBox(t,s,s,u);i?i.addBoundingBox(l):i=l}),i}},{key:"getFontSize",value:function(){var t=this.document,s=this.parent,i=ke.parse(t.ctx.font).fontSize,o=s.getStyle("font-size").getNumber(i);return o}},{key:"getTElementBoundingBox",value:function(t){var s=this.getFontSize();return new be(this.x,this.y-s,this.x+this.measureText(t),this.y)}},{key:"getGlyph",value:function(t,s,i){var o=s[i],u=null;if(t.isArabic){var l=s.length,f=s[i-1],c=s[i+1],h="isolated";(i===0||f===" ")&&i<l-2&&c!==" "&&(h="terminal"),i>0&&f!==" "&&i<l-2&&c!==" "&&(h="medial"),i>0&&f!==" "&&(i===l-1||c===" ")&&(h="initial"),typeof t.glyphs[o]<"u"&&(u=t.glyphs[o][h],!u&&t.glyphs[o].type==="glyph"&&(u=t.glyphs[o]))}else u=t.glyphs[o];return u||(u=t.missingGlyph),u}},{key:"getText",value:function(){return""}},{key:"getTextFromNode",value:function(t){var s=t||this.node,i=Array.from(s.parentNode.childNodes),o=i.indexOf(s),u=i.length-1,l=St(s.value||s.text||s.textContent||"");return o===0&&(l=Nm(l)),o===u&&(l=Mm(l)),l}},{key:"renderChildren",value:function(t){var s=this;if(this.type!=="text"){this.renderTElementChildren(t);return}this.initializeCoordinates(t),this.children.forEach(function(o,u){s.renderChild(t,s,s,u)});var i=this.document.screen.mouse;i.isWorking()&&i.checkBoundingBox(this,this.getBoundingBox(t))}},{key:"renderTElementChildren",value:function(t){var s=this.document,i=this.parent,o=this.getText(),u=i.getStyle("font-family").getDefinition();if(u){for(var l=u.fontFace.unitsPerEm,f=ke.parse(s.ctx.font),c=i.getStyle("font-size").getNumber(f.fontSize),h=i.getStyle("font-style").getString(f.fontStyle),v=c/l,g=u.isRTL?o.split("").reverse().join(""):o,b=oe(i.getAttribute("dx").getString()),y=g.length,E=0;E<y;E++){var k=this.getGlyph(u,g,E);t.translate(this.x,this.y),t.scale(v,-v);var S=t.lineWidth;t.lineWidth=t.lineWidth*l/c,h==="italic"&&t.transform(1,0,.4,1,0,0),k.render(t),h==="italic"&&t.transform(1,0,-.4,1,0,0),t.lineWidth=S,t.scale(1/v,-1/v),t.translate(-this.x,-this.y),this.x+=c*(k.horizAdvX||u.horizAdvX)/l,typeof b[E]<"u"&&!isNaN(b[E])&&(this.x+=b[E])}return}var x=this.x,P=this.y;t.paintOrder==="stroke"?(t.strokeStyle&&t.strokeText(o,x,P),t.fillStyle&&t.fillText(o,x,P)):(t.fillStyle&&t.fillText(o,x,P),t.strokeStyle&&t.strokeText(o,x,P))}},{key:"getAnchorDelta",value:function(t,s,i){var o=this.getStyle("text-anchor").getString("start");if(o!=="start"){for(var u=s.children,l=u.length,f=null,c=0,h=i;h<l&&(f=u[h],!(h>i&&f.getAttribute("x").hasValue()||f.getAttribute("text-anchor").hasValue()));h++)c+=f.measureTextRecursive(t);return-1*(o==="end"?c:c/2)}return 0}},{key:"adjustChildCoordinates",value:function(t,s,i,o){var u=i.children[o];if(typeof u.measureText!="function")return u;t.save(),u.setContext(t,!0);var l=u.getAttribute("x"),f=u.getAttribute("y"),c=u.getAttribute("dx"),h=u.getAttribute("dy"),v=u.getAttribute("text-anchor").getString("start");if(o===0&&u.type!=="textNode"&&(l.hasValue()||l.setValue(s.getAttribute("x").getValue("0")),f.hasValue()||f.setValue(s.getAttribute("y").getValue("0")),c.hasValue()||c.setValue(s.getAttribute("dx").getValue("0")),h.hasValue()||h.setValue(s.getAttribute("dy").getValue("0"))),l.hasValue()){if(u.x=l.getPixels("x")+s.getAnchorDelta(t,i,o),v!=="start"){var g=u.measureTextRecursive(t);u.x+=-1*(v==="end"?g:g/2)}c.hasValue()&&(u.x+=c.getPixels("x"))}else{if(v!=="start"){var b=u.measureTextRecursive(t);s.x+=-1*(v==="end"?b:b/2)}c.hasValue()&&(s.x+=c.getPixels("x")),u.x=s.x}return s.x=u.x+u.measureText(t),f.hasValue()?(u.y=f.getPixels("y"),h.hasValue()&&(u.y+=h.getPixels("y"))):(h.hasValue()&&(s.y+=h.getPixels("y")),u.y=s.y),s.y=u.y,u.clearContext(t),t.restore(),u}},{key:"getChildBoundingBox",value:function(t,s,i,o){var u=this.adjustChildCoordinates(t,s,i,o),l=u.getBoundingBox(t);return l?(u.children.forEach(function(f,c){var h=s.getChildBoundingBox(t,s,u,c);l.addBoundingBox(h)}),l):null}},{key:"renderChild",value:function(t,s,i,o){var u=this.adjustChildCoordinates(t,s,i,o);u.render(t),u.children.forEach(function(l,f){s.renderChild(t,s,u,f)})}},{key:"measureTextRecursive",value:function(t){var s=this.children.reduce(function(i,o){return i+o.measureTextRecursive(t)},this.measureText(t));return s}},{key:"measureText",value:function(t){var s=this.measureCache;if(~s)return s;var i=this.getText(),o=this.measureTargetText(t,i);return this.measureCache=o,o}},{key:"measureTargetText",value:function(t,s){if(!s.length)return 0;var i=this.parent,o=i.getStyle("font-family").getDefinition();if(o){for(var u=this.getFontSize(),l=o.isRTL?s.split("").reverse().join(""):s,f=oe(i.getAttribute("dx").getString()),c=l.length,h=0,v=0;v<c;v++){var g=this.getGlyph(o,l,v);h+=(g.horizAdvX||o.horizAdvX)*u/o.fontFace.unitsPerEm,typeof f[v]<"u"&&!isNaN(f[v])&&(h+=f[v])}return h}if(!t.measureText)return s.length*10;t.save(),this.setContext(t,!0);var b=t.measureText(s),y=b.width;return this.clearContext(t),t.restore(),y}}]),e}(qe);function $0(r){return function(){var a=$(r),e;if(w0()){var n=$(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return M(this,e)}}function w0(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var Vu=function(r){I(e,r);var a=$0(e);function e(n,t,s){var i;return O(this,e),i=a.call(this,n,t,(this instanceof e?this.constructor:void 0)===e?!0:s),i.type="tspan",i.text=i.children.length>0?"":i.getTextFromNode(),i}return _(e,[{key:"getText",value:function(){return this.text}}]),e}(Vt);function E0(r){return function(){var a=$(r),e;if(R0()){var n=$(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return M(this,e)}}function R0(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var x0=function(r){I(e,r);var a=E0(e);function e(){var n;return O(this,e),n=a.apply(this,arguments),n.type="textNode",n}return e}(Vu);function k0(r){var a=r.replace(/,/gm," ").replace(/([MmZzLlHhVvCcSsQqTtAa])([^\s])/gm,"$1 $2").replace(/([MmZzLlHhVvCcSsQqTtAa])([^\s])/gm,"$1 $2").replace(/([^\s])([MmZzLlHhVvCcSsQqTtAa])/gm,"$1 $2").replace(/([0-9])([+\-])/gm,"$1 $2").replace(/(\.[0-9]*)(\.)/gm,"$1 $2").replace(/(\.[0-9]*)(\.)/gm,"$1 $2").replace(/([Aa](?:\s+(?:[0-9]*\.)?[0-9]+){3})\s+([01])\s*([01])/gm,"$1 $2 $3 ");return St(a).trim()}var C0=function(){function r(a){O(this,r),this.control=null,this.start=null,this.current=null,this.command="",this.tokens=[],this.i=-1,this.previousCommand="",this.points=[],this.angles=[],this.tokens=k0(a).split(" ")}return _(r,[{key:"reset",value:function(){this.i=-1,this.command="",this.previousCommand="",this.start=new J(0,0),this.control=new J(0,0),this.current=new J(0,0),this.points=[],this.angles=[]}},{key:"isEnd",value:function(){var e=this.i,n=this.tokens;return e>=n.length-1}},{key:"isCommandOrEnd",value:function(){if(this.isEnd())return!0;var e=this.i,n=this.tokens;return/^[A-Za-z]$/.test(n[e+1])}},{key:"isRelativeCommand",value:function(){switch(this.command){case"m":case"l":case"h":case"v":case"c":case"s":case"q":case"t":case"a":case"z":return!0;default:return!1}}},{key:"getToken",value:function(){return this.i++,this.tokens[this.i]}},{key:"getScalar",value:function(){return parseFloat(this.getToken())}},{key:"nextCommand",value:function(){this.previousCommand=this.command,this.command=this.getToken()}},{key:"getPoint",value:function(){var e=new J(this.getScalar(),this.getScalar());return this.makeAbsolute(e)}},{key:"getAsControlPoint",value:function(){var e=this.getPoint();return this.control=e,e}},{key:"getAsCurrentPoint",value:function(){var e=this.getPoint();return this.current=e,e}},{key:"getReflectedControlPoint",value:function(){var e=this.previousCommand.toLowerCase();if(e!=="c"&&e!=="s"&&e!=="q"&&e!=="t")return this.current;var n=this.current,t=n.x,s=n.y,i=this.control,o=i.x,u=i.y,l=new J(2*t-o,2*s-u);return l}},{key:"makeAbsolute",value:function(e){if(this.isRelativeCommand()){var n=this.current,t=n.x,s=n.y;e.x+=t,e.y+=s}return e}},{key:"addMarker",value:function(e,n,t){var s=this.points,i=this.angles;t&&i.length>0&&!i[i.length-1]&&(i[i.length-1]=s[s.length-1].angleTo(t)),this.addMarkerAngle(e,n?n.angleTo(e):null)}},{key:"addMarkerAngle",value:function(e,n){this.points.push(e),this.angles.push(n)}},{key:"getMarkerPoints",value:function(){return this.points}},{key:"getMarkerAngles",value:function(){for(var e=this.angles,n=e.length,t=0;t<n;t++)if(!e[t]){for(var s=t+1;s<n;s++)if(e[s]){e[t]=e[s];break}}return e}}]),r}();function P0(r){return function(){var a=$(r),e;if(T0()){var n=$(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return M(this,e)}}function T0(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var Ae=function(r){I(e,r);var a=P0(e);function e(n,t,s){var i;return O(this,e),i=a.call(this,n,t,s),i.type="path",i.pathParser=null,i.pathParser=new C0(i.getAttribute("d").getString()),i}return _(e,[{key:"path",value:function(t){var s=this.pathParser,i=new be;for(s.reset(),t&&t.beginPath();!s.isEnd();)switch(s.nextCommand(),s.command){case"M":case"m":this.pathM(t,i);break;case"L":case"l":this.pathL(t,i);break;case"H":case"h":this.pathH(t,i);break;case"V":case"v":this.pathV(t,i);break;case"C":case"c":this.pathC(t,i);break;case"S":case"s":this.pathS(t,i);break;case"Q":case"q":this.pathQ(t,i);break;case"T":case"t":this.pathT(t,i);break;case"A":case"a":this.pathA(t,i);break;case"Z":case"z":this.pathZ(t,i);break}return i}},{key:"getBoundingBox",value:function(t){return this.path()}},{key:"getMarkers",value:function(){var t=this.pathParser,s=t.getMarkerPoints(),i=t.getMarkerAngles(),o=s.map(function(u,l){return[u,i[l]]});return o}},{key:"renderChildren",value:function(t){this.path(t),this.document.screen.mouse.checkPath(this,t);var s=this.getStyle("fill-rule");t.fillStyle!==""&&(s.getString("inherit")!=="inherit"?t.fill(s.getString()):t.fill()),t.strokeStyle!==""&&t.stroke();var i=this.getMarkers();if(i){var o=i.length-1,u=this.getStyle("marker-start"),l=this.getStyle("marker-mid"),f=this.getStyle("marker-end");if(u.isUrlDefinition()){var c=u.getDefinition(),h=K(i[0],2),v=h[0],g=h[1];c.render(t,v,g)}if(l.isUrlDefinition())for(var b=l.getDefinition(),y=1;y<o;y++){var E=K(i[y],2),k=E[0],S=E[1];b.render(t,k,S)}if(f.isUrlDefinition()){var x=f.getDefinition(),P=K(i[o],2),N=P[0],L=P[1];x.render(t,N,L)}}}},{key:"pathM",value:function(t,s){var i=this.pathParser,o=i.getAsCurrentPoint(),u=o.x,l=o.y;for(i.addMarker(o),s.addPoint(u,l),t&&t.moveTo(u,l),i.start=i.current;!i.isCommandOrEnd();){var f=i.getAsCurrentPoint(),c=f.x,h=f.y;i.addMarker(f,i.start),s.addPoint(c,h),t&&t.lineTo(c,h)}}},{key:"pathL",value:function(t,s){for(var i=this.pathParser;!i.isCommandOrEnd();){var o=i.current,u=i.getAsCurrentPoint(),l=u.x,f=u.y;i.addMarker(u,o),s.addPoint(l,f),t&&t.lineTo(l,f)}}},{key:"pathH",value:function(t,s){for(var i=this.pathParser;!i.isCommandOrEnd();){var o=i.current,u=new J((i.isRelativeCommand()?o.x:0)+i.getScalar(),o.y);i.addMarker(u,o),i.current=u,s.addPoint(u.x,u.y),t&&t.lineTo(u.x,u.y)}}},{key:"pathV",value:function(t,s){for(var i=this.pathParser;!i.isCommandOrEnd();){var o=i.current,u=new J(o.x,(i.isRelativeCommand()?o.y:0)+i.getScalar());i.addMarker(u,o),i.current=u,s.addPoint(u.x,u.y),t&&t.lineTo(u.x,u.y)}}},{key:"pathC",value:function(t,s){for(var i=this.pathParser;!i.isCommandOrEnd();){var o=i.current,u=i.getPoint(),l=i.getAsControlPoint(),f=i.getAsCurrentPoint();i.addMarker(f,l,u),s.addBezierCurve(o.x,o.y,u.x,u.y,l.x,l.y,f.x,f.y),t&&t.bezierCurveTo(u.x,u.y,l.x,l.y,f.x,f.y)}}},{key:"pathS",value:function(t,s){for(var i=this.pathParser;!i.isCommandOrEnd();){var o=i.current,u=i.getReflectedControlPoint(),l=i.getAsControlPoint(),f=i.getAsCurrentPoint();i.addMarker(f,l,u),s.addBezierCurve(o.x,o.y,u.x,u.y,l.x,l.y,f.x,f.y),t&&t.bezierCurveTo(u.x,u.y,l.x,l.y,f.x,f.y)}}},{key:"pathQ",value:function(t,s){for(var i=this.pathParser;!i.isCommandOrEnd();){var o=i.current,u=i.getAsControlPoint(),l=i.getAsCurrentPoint();i.addMarker(l,u,u),s.addQuadraticCurve(o.x,o.y,u.x,u.y,l.x,l.y),t&&t.quadraticCurveTo(u.x,u.y,l.x,l.y)}}},{key:"pathT",value:function(t,s){for(var i=this.pathParser;!i.isCommandOrEnd();){var o=i.current,u=i.getReflectedControlPoint();i.control=u;var l=i.getAsCurrentPoint();i.addMarker(l,u,u),s.addQuadraticCurve(o.x,o.y,u.x,u.y,l.x,l.y),t&&t.quadraticCurveTo(u.x,u.y,l.x,l.y)}}},{key:"pathA",value:function(t,s){for(var i=this.pathParser;!i.isCommandOrEnd();){var o=i.current,u=i.getScalar(),l=i.getScalar(),f=i.getScalar()*(Math.PI/180),c=i.getScalar(),h=i.getScalar(),v=i.getAsCurrentPoint(),g=new J(Math.cos(f)*(o.x-v.x)/2+Math.sin(f)*(o.y-v.y)/2,-Math.sin(f)*(o.x-v.x)/2+Math.cos(f)*(o.y-v.y)/2),b=Math.pow(g.x,2)/Math.pow(u,2)+Math.pow(g.y,2)/Math.pow(l,2);b>1&&(u*=Math.sqrt(b),l*=Math.sqrt(b));var y=(c===h?-1:1)*Math.sqrt((Math.pow(u,2)*Math.pow(l,2)-Math.pow(u,2)*Math.pow(g.y,2)-Math.pow(l,2)*Math.pow(g.x,2))/(Math.pow(u,2)*Math.pow(g.y,2)+Math.pow(l,2)*Math.pow(g.x,2)));isNaN(y)&&(y=0);var E=new J(y*u*g.y/l,y*-l*g.x/u),k=new J((o.x+v.x)/2+Math.cos(f)*E.x-Math.sin(f)*E.y,(o.y+v.y)/2+Math.sin(f)*E.x+Math.cos(f)*E.y),S=gr([1,0],[(g.x-E.x)/u,(g.y-E.y)/l]),x=[(g.x-E.x)/u,(g.y-E.y)/l],P=[(-g.x-E.x)/u,(-g.y-E.y)/l],N=gr(x,P);At(x,P)<=-1&&(N=Math.PI),At(x,P)>=1&&(N=0);var L=1-h?1:-1,j=S+L*(N/2),U=new J(k.x+u*Math.cos(j),k.y+l*Math.sin(j));if(i.addMarkerAngle(U,j-L*Math.PI/2),i.addMarkerAngle(v,j-L*Math.PI),s.addPoint(v.x,v.y),t&&!isNaN(S)&&!isNaN(N)){var B=u>l?u:l,W=u>l?1:u/l,G=u>l?l/u:1;t.translate(k.x,k.y),t.rotate(f),t.scale(W,G),t.arc(0,0,B,S,S+N,!!(1-h)),t.scale(1/W,1/G),t.rotate(-f),t.translate(-k.x,-k.y)}}}},{key:"pathZ",value:function(t,s){var i=this.pathParser;t&&s.x1!==s.x2&&s.y1!==s.y2&&t.closePath(),i.current=i.start}}]),e}(qe);function O0(r){return function(){var a=$(r),e;if(A0()){var n=$(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return M(this,e)}}function A0(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var Bt=function(r){I(e,r);var a=O0(e);function e(){var n;return O(this,e),n=a.apply(this,arguments),n.type="svg",n.root=!1,n}return _(e,[{key:"clearContext",value:function(t){xe($(e.prototype),"clearContext",this).call(this,t),this.document.screen.viewPort.removeCurrent()}},{key:"setContext",value:function(t){var s=this.document,i=s.screen,o=s.window,u=t.canvas;if(i.setDefaults(t),u.style&&typeof t.font<"u"&&o&&typeof o.getComputedStyle<"u"){t.font=o.getComputedStyle(u).getPropertyValue("font");var l=new D(s,"fontSize",ke.parse(t.font).fontSize);l.hasValue()&&(s.rootEmSize=l.getPixels("y"),s.emSize=s.rootEmSize)}xe($(e.prototype),"setContext",this).call(this,t),this.getAttribute("x").hasValue()||this.getAttribute("x",!0).setValue(0),this.getAttribute("y").hasValue()||this.getAttribute("y",!0).setValue(0),t.translate(this.getAttribute("x").getPixels("x"),this.getAttribute("y").getPixels("y"));var f=i.viewPort,c=f.width,h=f.height;this.getStyle("width").hasValue()||this.getStyle("width",!0).setValue("100%"),this.getStyle("height").hasValue()||this.getStyle("height",!0).setValue("100%"),this.getStyle("color").hasValue()||this.getStyle("color",!0).setValue("black");var v=this.getAttribute("refX"),g=this.getAttribute("refY"),b=this.getAttribute("viewBox"),y=b.hasValue()?oe(b.getString()):null,E=!this.root&&this.getAttribute("overflow").getValue("hidden")!=="visible",k=0,S=0,x=0,P=0;y&&(k=y[0],S=y[1]),this.root||(c=this.getStyle("width").getPixels("x"),h=this.getStyle("height").getPixels("y"),this.type==="marker"&&(x=k,P=S,k=0,S=0)),i.viewPort.setCurrent(c,h),y&&(c=y[2],h=y[3]),s.setViewBox({ctx:t,aspectRatio:this.getAttribute("preserveAspectRatio").getString(),width:i.viewPort.width,desiredWidth:c,height:i.viewPort.height,desiredHeight:h,minX:k,minY:S,refX:v.getValue(),refY:g.getValue(),clip:E,clipX:x,clipY:P}),y&&(i.viewPort.removeCurrent(),i.viewPort.setCurrent(c,h))}},{key:"resize",value:function(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,o=this.getAttribute("width",!0),u=this.getAttribute("height",!0),l=this.getAttribute("viewBox"),f=this.getAttribute("style"),c=o.getNumber(0),h=u.getNumber(0);if(i)if(typeof i=="string")this.getAttribute("preserveAspectRatio",!0).setValue(i);else{var v=this.getAttribute("preserveAspectRatio");v.hasValue()&&v.setValue(v.getString().replace(/^\s*(\S.*\S)\s*$/,"$1"))}if(o.setValue(t),u.setValue(s),l.hasValue()||l.setValue("0 0 ".concat(c||t," ").concat(h||s)),f.hasValue()){var g=this.getStyle("width"),b=this.getStyle("height");g.hasValue()&&g.setValue("".concat(t,"px")),b.hasValue()&&b.setValue("".concat(s,"px"))}}}]),e}(qe);function _0(r){return function(){var a=$(r),e;if(N0()){var n=$(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return M(this,e)}}function N0(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var Bu=function(r){I(e,r);var a=_0(e);function e(){var n;return O(this,e),n=a.apply(this,arguments),n.type="rect",n}return _(e,[{key:"path",value:function(t){var s=this.getAttribute("x").getPixels("x"),i=this.getAttribute("y").getPixels("y"),o=this.getStyle("width").getPixels("x"),u=this.getStyle("height").getPixels("y"),l=this.getAttribute("rx"),f=this.getAttribute("ry"),c=l.getPixels("x"),h=f.getPixels("y");if(l.hasValue()&&!f.hasValue()&&(h=c),f.hasValue()&&!l.hasValue()&&(c=h),c=Math.min(c,o/2),h=Math.min(h,u/2),t){var v=4*((Math.sqrt(2)-1)/3);t.beginPath(),u>0&&o>0&&(t.moveTo(s+c,i),t.lineTo(s+o-c,i),t.bezierCurveTo(s+o-c+v*c,i,s+o,i+h-v*h,s+o,i+h),t.lineTo(s+o,i+u-h),t.bezierCurveTo(s+o,i+u-h+v*h,s+o-c+v*c,i+u,s+o-c,i+u),t.lineTo(s+c,i+u),t.bezierCurveTo(s+c-v*c,i+u,s,i+u-h+v*h,s,i+u-h),t.lineTo(s,i+h),t.bezierCurveTo(s,i+h-v*h,s+c-v*c,i,s+c,i),t.closePath())}return new be(s,i,s+o,i+u)}},{key:"getMarkers",value:function(){return null}}]),e}(Ae);function M0(r){return function(){var a=$(r),e;if(D0()){var n=$(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return M(this,e)}}function D0(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var I0=function(r){I(e,r);var a=M0(e);function e(){var n;return O(this,e),n=a.apply(this,arguments),n.type="circle",n}return _(e,[{key:"path",value:function(t){var s=this.getAttribute("cx").getPixels("x"),i=this.getAttribute("cy").getPixels("y"),o=this.getAttribute("r").getPixels();return t&&o>0&&(t.beginPath(),t.arc(s,i,o,0,Math.PI*2,!1),t.closePath()),new be(s-o,i-o,s+o,i+o)}},{key:"getMarkers",value:function(){return null}}]),e}(Ae);function L0(r){return function(){var a=$(r),e;if(V0()){var n=$(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return M(this,e)}}function V0(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var B0=function(r){I(e,r);var a=L0(e);function e(){var n;return O(this,e),n=a.apply(this,arguments),n.type="ellipse",n}return _(e,[{key:"path",value:function(t){var s=4*((Math.sqrt(2)-1)/3),i=this.getAttribute("rx").getPixels("x"),o=this.getAttribute("ry").getPixels("y"),u=this.getAttribute("cx").getPixels("x"),l=this.getAttribute("cy").getPixels("y");return t&&i>0&&o>0&&(t.beginPath(),t.moveTo(u+i,l),t.bezierCurveTo(u+i,l+s*o,u+s*i,l+o,u,l+o),t.bezierCurveTo(u-s*i,l+o,u-i,l+s*o,u-i,l),t.bezierCurveTo(u-i,l-s*o,u-s*i,l-o,u,l-o),t.bezierCurveTo(u+s*i,l-o,u+i,l-s*o,u+i,l),t.closePath()),new be(u-i,l-o,u+i,l+o)}},{key:"getMarkers",value:function(){return null}}]),e}(Ae);function F0(r){return function(){var a=$(r),e;if(j0()){var n=$(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return M(this,e)}}function j0(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var z0=function(r){I(e,r);var a=F0(e);function e(){var n;return O(this,e),n=a.apply(this,arguments),n.type="line",n}return _(e,[{key:"getPoints",value:function(){return[new J(this.getAttribute("x1").getPixels("x"),this.getAttribute("y1").getPixels("y")),new J(this.getAttribute("x2").getPixels("x"),this.getAttribute("y2").getPixels("y"))]}},{key:"path",value:function(t){var s=this.getPoints(),i=K(s,2),o=i[0],u=o.x,l=o.y,f=i[1],c=f.x,h=f.y;return t&&(t.beginPath(),t.moveTo(u,l),t.lineTo(c,h)),new be(u,l,c,h)}},{key:"getMarkers",value:function(){var t=this.getPoints(),s=K(t,2),i=s[0],o=s[1],u=i.angleTo(o);return[[i,u],[o,u]]}}]),e}(Ae);function G0(r){return function(){var a=$(r),e;if(U0()){var n=$(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return M(this,e)}}function U0(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var Fu=function(r){I(e,r);var a=G0(e);function e(n,t,s){var i;return O(this,e),i=a.call(this,n,t,s),i.type="polyline",i.points=[],i.points=J.parsePath(i.getAttribute("points").getString()),i}return _(e,[{key:"path",value:function(t){var s=this.points,i=K(s,1),o=i[0],u=o.x,l=o.y,f=new be(u,l);return t&&(t.beginPath(),t.moveTo(u,l)),s.forEach(function(c){var h=c.x,v=c.y;f.addPoint(h,v),t&&t.lineTo(h,v)}),f}},{key:"getMarkers",value:function(){var t=this.points,s=t.length-1,i=[];return t.forEach(function(o,u){u!==s&&i.push([o,o.angleTo(t[u+1])])}),i.length>0&&i.push([t[t.length-1],i[i.length-1][1]]),i}}]),e}(Ae);function W0(r){return function(){var a=$(r),e;if(q0()){var n=$(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return M(this,e)}}function q0(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var H0=function(r){I(e,r);var a=W0(e);function e(){var n;return O(this,e),n=a.apply(this,arguments),n.type="polygon",n}return _(e,[{key:"path",value:function(t){var s=xe($(e.prototype),"path",this).call(this,t),i=K(this.points,1),o=i[0],u=o.x,l=o.y;return t&&(t.lineTo(u,l),t.closePath()),s}}]),e}(Fu);function Y0(r){return function(){var a=$(r),e;if(X0()){var n=$(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return M(this,e)}}function X0(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var K0=function(r){I(e,r);var a=Y0(e);function e(){var n;return O(this,e),n=a.apply(this,arguments),n.type="pattern",n}return _(e,[{key:"createPattern",value:function(t,s,i){var o=this.getStyle("width").getPixels("x",!0),u=this.getStyle("height").getPixels("y",!0),l=new Bt(this.document,null);l.attributes.viewBox=new D(this.document,"viewBox",this.getAttribute("viewBox").getValue()),l.attributes.width=new D(this.document,"width","".concat(o,"px")),l.attributes.height=new D(this.document,"height","".concat(u,"px")),l.attributes.transform=new D(this.document,"transform",this.getAttribute("patternTransform").getValue()),l.children=this.children;var f=this.document.createCanvas(o,u),c=f.getContext("2d"),h=this.getAttribute("x"),v=this.getAttribute("y");h.hasValue()&&v.hasValue()&&c.translate(h.getPixels("x",!0),v.getPixels("y",!0)),i.hasValue()?this.styles["fill-opacity"]=i:Reflect.deleteProperty(this.styles,"fill-opacity");for(var g=-1;g<=1;g++)for(var b=-1;b<=1;b++)c.save(),l.attributes.x=new D(this.document,"x",g*f.width),l.attributes.y=new D(this.document,"y",b*f.height),l.render(c),c.restore();var y=t.createPattern(f,"repeat");return y}}]),e}(Z);function Q0(r){return function(){var a=$(r),e;if(J0()){var n=$(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return M(this,e)}}function J0(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var Z0=function(r){I(e,r);var a=Q0(e);function e(){var n;return O(this,e),n=a.apply(this,arguments),n.type="marker",n}return _(e,[{key:"render",value:function(t,s,i){if(s){var o=s.x,u=s.y,l=this.getAttribute("orient").getValue("auto"),f=this.getAttribute("markerUnits").getValue("strokeWidth");t.translate(o,u),l==="auto"&&t.rotate(i),f==="strokeWidth"&&t.scale(t.lineWidth,t.lineWidth),t.save();var c=new Bt(this.document,null);c.type=this.type,c.attributes.viewBox=new D(this.document,"viewBox",this.getAttribute("viewBox").getValue()),c.attributes.refX=new D(this.document,"refX",this.getAttribute("refX").getValue()),c.attributes.refY=new D(this.document,"refY",this.getAttribute("refY").getValue()),c.attributes.width=new D(this.document,"width",this.getAttribute("markerWidth").getValue()),c.attributes.height=new D(this.document,"height",this.getAttribute("markerHeight").getValue()),c.attributes.overflow=new D(this.document,"overflow",this.getAttribute("overflow").getValue()),c.attributes.fill=new D(this.document,"fill",this.getAttribute("fill").getColor("black")),c.attributes.stroke=new D(this.document,"stroke",this.getAttribute("stroke").getValue("none")),c.children=this.children,c.render(t),t.restore(),f==="strokeWidth"&&t.scale(1/t.lineWidth,1/t.lineWidth),l==="auto"&&t.rotate(-i),t.translate(-o,-u)}}}]),e}(Z);function eb(r){return function(){var a=$(r),e;if(tb()){var n=$(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return M(this,e)}}function tb(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var rb=function(r){I(e,r);var a=eb(e);function e(){var n;return O(this,e),n=a.apply(this,arguments),n.type="defs",n}return _(e,[{key:"render",value:function(){}}]),e}(Z);function nb(r){return function(){var a=$(r),e;if(ab()){var n=$(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return M(this,e)}}function ab(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var Ba=function(r){I(e,r);var a=nb(e);function e(){var n;return O(this,e),n=a.apply(this,arguments),n.type="g",n}return _(e,[{key:"getBoundingBox",value:function(t){var s=new be;return this.children.forEach(function(i){s.addBoundingBox(i.getBoundingBox(t))}),s}}]),e}(qe);function ib(r){return function(){var a=$(r),e;if(sb()){var n=$(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return M(this,e)}}function sb(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var ju=function(r){I(e,r);var a=ib(e);function e(n,t,s){var i;O(this,e),i=a.call(this,n,t,s),i.attributesToInherit=["gradientUnits"],i.stops=[];var o=ct(i),u=o.stops,l=o.children;return l.forEach(function(f){f.type==="stop"&&u.push(f)}),i}return _(e,[{key:"getGradientUnits",value:function(){return this.getAttribute("gradientUnits").getString("objectBoundingBox")}},{key:"createGradient",value:function(t,s,i){var o=this,u=this;this.getHrefAttribute().hasValue()&&(u=this.getHrefAttribute().getDefinition(),this.inheritStopContainer(u));var l=u,f=l.stops,c=this.getGradient(t,s);if(!c)return this.addParentOpacity(i,f[f.length-1].color);if(f.forEach(function(L){c.addColorStop(L.offset,o.addParentOpacity(i,L.color))}),this.getAttribute("gradientTransform").hasValue()){var h=this.document,v=h.screen,g=v.MAX_VIRTUAL_PIXELS,b=v.viewPort,y=K(b.viewPorts,1),E=y[0],k=new Bu(h,null);k.attributes.x=new D(h,"x",-g/3),k.attributes.y=new D(h,"y",-g/3),k.attributes.width=new D(h,"width",g),k.attributes.height=new D(h,"height",g);var S=new Ba(h,null);S.attributes.transform=new D(h,"transform",this.getAttribute("gradientTransform").getValue()),S.children=[k];var x=new Bt(h,null);x.attributes.x=new D(h,"x",0),x.attributes.y=new D(h,"y",0),x.attributes.width=new D(h,"width",E.width),x.attributes.height=new D(h,"height",E.height),x.children=[S];var P=h.createCanvas(E.width,E.height),N=P.getContext("2d");return N.fillStyle=c,x.render(N),N.createPattern(P,"no-repeat")}return c}},{key:"inheritStopContainer",value:function(t){var s=this;this.attributesToInherit.forEach(function(i){!s.getAttribute(i).hasValue()&&t.getAttribute(i).hasValue()&&s.getAttribute(i,!0).setValue(t.getAttribute(i).getValue())})}},{key:"addParentOpacity",value:function(t,s){if(t.hasValue()){var i=new D(this.document,"color",s);return i.addOpacity(t).getColor()}return s}}]),e}(Z);function ob(r){return function(){var a=$(r),e;if(ub()){var n=$(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return M(this,e)}}function ub(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var lb=function(r){I(e,r);var a=ob(e);function e(n,t,s){var i;return O(this,e),i=a.call(this,n,t,s),i.type="linearGradient",i.attributesToInherit.push("x1","y1","x2","y2"),i}return _(e,[{key:"getGradient",value:function(t,s){var i=this.getGradientUnits()==="objectBoundingBox",o=i?s.getBoundingBox(t):null;if(i&&!o)return null;!this.getAttribute("x1").hasValue()&&!this.getAttribute("y1").hasValue()&&!this.getAttribute("x2").hasValue()&&!this.getAttribute("y2").hasValue()&&(this.getAttribute("x1",!0).setValue(0),this.getAttribute("y1",!0).setValue(0),this.getAttribute("x2",!0).setValue(1),this.getAttribute("y2",!0).setValue(0));var u=i?o.x+o.width*this.getAttribute("x1").getNumber():this.getAttribute("x1").getPixels("x"),l=i?o.y+o.height*this.getAttribute("y1").getNumber():this.getAttribute("y1").getPixels("y"),f=i?o.x+o.width*this.getAttribute("x2").getNumber():this.getAttribute("x2").getPixels("x"),c=i?o.y+o.height*this.getAttribute("y2").getNumber():this.getAttribute("y2").getPixels("y");return u===f&&l===c?null:t.createLinearGradient(u,l,f,c)}}]),e}(ju);function fb(r){return function(){var a=$(r),e;if(cb()){var n=$(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return M(this,e)}}function cb(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var hb=function(r){I(e,r);var a=fb(e);function e(n,t,s){var i;return O(this,e),i=a.call(this,n,t,s),i.type="radialGradient",i.attributesToInherit.push("cx","cy","r","fx","fy","fr"),i}return _(e,[{key:"getGradient",value:function(t,s){var i=this.getGradientUnits()==="objectBoundingBox",o=s.getBoundingBox(t);if(i&&!o)return null;this.getAttribute("cx").hasValue()||this.getAttribute("cx",!0).setValue("50%"),this.getAttribute("cy").hasValue()||this.getAttribute("cy",!0).setValue("50%"),this.getAttribute("r").hasValue()||this.getAttribute("r",!0).setValue("50%");var u=i?o.x+o.width*this.getAttribute("cx").getNumber():this.getAttribute("cx").getPixels("x"),l=i?o.y+o.height*this.getAttribute("cy").getNumber():this.getAttribute("cy").getPixels("y"),f=u,c=l;this.getAttribute("fx").hasValue()&&(f=i?o.x+o.width*this.getAttribute("fx").getNumber():this.getAttribute("fx").getPixels("x")),this.getAttribute("fy").hasValue()&&(c=i?o.y+o.height*this.getAttribute("fy").getNumber():this.getAttribute("fy").getPixels("y"));var h=i?(o.width+o.height)/2*this.getAttribute("r").getNumber():this.getAttribute("r").getPixels(),v=this.getAttribute("fr").getPixels();return t.createRadialGradient(f,c,v,u,l,h)}}]),e}(ju);function vb(r){return function(){var a=$(r),e;if(gb()){var n=$(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return M(this,e)}}function gb(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var pb=function(r){I(e,r);var a=vb(e);function e(n,t,s){var i;O(this,e),i=a.call(this,n,t,s),i.type="stop";var o=Math.max(0,Math.min(1,i.getAttribute("offset").getNumber())),u=i.getStyle("stop-opacity"),l=i.getStyle("stop-color",!0);return l.getString()===""&&l.setValue("#000"),u.hasValue()&&(l=l.addOpacity(u)),i.offset=o,i.color=l.getColor(),i}return e}(Z);function db(r){return function(){var a=$(r),e;if(yb()){var n=$(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return M(this,e)}}function yb(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var Fa=function(r){I(e,r);var a=db(e);function e(n,t,s){var i;return O(this,e),i=a.call(this,n,t,s),i.type="animate",i.duration=0,i.initialValue=null,i.initialUnits="",i.removed=!1,i.frozen=!1,n.screen.animations.push(ct(i)),i.begin=i.getAttribute("begin").getMilliseconds(),i.maxDuration=i.begin+i.getAttribute("dur").getMilliseconds(),i.from=i.getAttribute("from"),i.to=i.getAttribute("to"),i.values=i.getAttribute("values"),i.values.hasValue()&&i.values.setValue(i.values.getString().split(";")),i}return _(e,[{key:"getProperty",value:function(){var t=this.getAttribute("attributeType").getString(),s=this.getAttribute("attributeName").getString();return t==="CSS"?this.parent.getStyle(s,!0):this.parent.getAttribute(s,!0)}},{key:"calcValue",value:function(){var t=this.initialUnits,s=this.getProgress(),i=s.progress,o=s.from,u=s.to,l=o.getNumber()+(u.getNumber()-o.getNumber())*i;return t==="%"&&(l*=100),"".concat(l).concat(t)}},{key:"update",value:function(t){var s=this.parent,i=this.getProperty();if(this.initialValue||(this.initialValue=i.getString(),this.initialUnits=i.getUnits()),this.duration>this.maxDuration){var o=this.getAttribute("fill").getString("remove");if(this.getAttribute("repeatCount").getString()==="indefinite"||this.getAttribute("repeatDur").getString()==="indefinite")this.duration=0;else if(o==="freeze"&&!this.frozen)this.frozen=!0,s.animationFrozen=!0,s.animationFrozenValue=i.getString();else if(o==="remove"&&!this.removed)return this.removed=!0,i.setValue(s.animationFrozen?s.animationFrozenValue:this.initialValue),!0;return!1}this.duration+=t;var u=!1;if(this.begin<this.duration){var l=this.calcValue(),f=this.getAttribute("type");if(f.hasValue()){var c=f.getString();l="".concat(c,"(").concat(l,")")}i.setValue(l),u=!0}return u}},{key:"getProgress",value:function(){var t=this.document,s=this.values,i={progress:(this.duration-this.begin)/(this.maxDuration-this.begin)};if(s.hasValue()){var o=i.progress*(s.getValue().length-1),u=Math.floor(o),l=Math.ceil(o);i.from=new D(t,"from",parseFloat(s.getValue()[u])),i.to=new D(t,"to",parseFloat(s.getValue()[l])),i.progress=(o-u)/(l-u)}else i.from=this.from,i.to=this.to;return i}}]),e}(Z);function mb(r){return function(){var a=$(r),e;if(bb()){var n=$(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return M(this,e)}}function bb(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var Sb=function(r){I(e,r);var a=mb(e);function e(){var n;return O(this,e),n=a.apply(this,arguments),n.type="animateColor",n}return _(e,[{key:"calcValue",value:function(){var t=this.getProgress(),s=t.progress,i=t.from,o=t.to,u=new ta(i.getColor()),l=new ta(o.getColor());if(u.ok&&l.ok){var f=u.r+(l.r-u.r)*s,c=u.g+(l.g-u.g)*s,h=u.b+(l.b-u.b)*s;return"rgb(".concat(parseInt(f,10),", ").concat(parseInt(c,10),", ").concat(parseInt(h,10),")")}return this.getAttribute("from").getColor()}}]),e}(Fa);function $b(r){return function(){var a=$(r),e;if(wb()){var n=$(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return M(this,e)}}function wb(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var Eb=function(r){I(e,r);var a=$b(e);function e(){var n;return O(this,e),n=a.apply(this,arguments),n.type="animateTransform",n}return _(e,[{key:"calcValue",value:function(){var t=this.getProgress(),s=t.progress,i=t.from,o=t.to,u=oe(i.getString()),l=oe(o.getString()),f=u.map(function(c,h){var v=l[h];return c+(v-c)*s}).join(" ");return f}}]),e}(Fa);function Rb(r){if(typeof Symbol>"u"||r[Symbol.iterator]==null){if(Array.isArray(r)||(r=xb(r))){var a=0,e=function(){};return{s:e,n:function(){return a>=r.length?{done:!0}:{done:!1,value:r[a++]}},e:function(u){throw u},f:e}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var n,t=!0,s=!1,i;return{s:function(){n=r[Symbol.iterator]()},n:function(){var u=n.next();return t=u.done,u},e:function(u){s=!0,i=u},f:function(){try{!t&&n.return!=null&&n.return()}finally{if(s)throw i}}}}function xb(r,a){if(r){if(typeof r=="string")return Ns(r,a);var e=Object.prototype.toString.call(r).slice(8,-1);if(e==="Object"&&r.constructor&&(e=r.constructor.name),e==="Map"||e==="Set")return Array.from(e);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return Ns(r,a)}}function Ns(r,a){(a==null||a>r.length)&&(a=r.length);for(var e=0,n=new Array(a);e<a;e++)n[e]=r[e];return n}function kb(r){return function(){var a=$(r),e;if(Cb()){var n=$(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return M(this,e)}}function Cb(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var Pb=function(r){I(e,r);var a=kb(e);function e(n,t,s){var i;O(this,e),i=a.call(this,n,t,s),i.type="font",i.glyphs={},i.horizAdvX=i.getAttribute("horiz-adv-x").getNumber();var o=n.definitions,u=ct(i),l=u.children,f=Rb(l),c;try{for(f.s();!(c=f.n()).done;){var h=c.value;switch(h.type){case"font-face":{i.fontFace=h;var v=h.getStyle("font-family");v.hasValue()&&(o[v.getString()]=ct(i));break}case"missing-glyph":i.missingGlyph=h;break;case"glyph":{var g=h;g.arabicForm?(i.isRTL=!0,i.isArabic=!0,typeof i.glyphs[g.unicode]>"u"&&(i.glyphs[g.unicode]={}),i.glyphs[g.unicode][g.arabicForm]=g):i.glyphs[g.unicode]=g;break}default:}}}catch(b){f.e(b)}finally{f.f()}return i}return _(e,[{key:"render",value:function(){}}]),e}(Z);function Tb(r){return function(){var a=$(r),e;if(Ob()){var n=$(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return M(this,e)}}function Ob(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var Ab=function(r){I(e,r);var a=Tb(e);function e(n,t,s){var i;return O(this,e),i=a.call(this,n,t,s),i.type="font-face",i.ascent=i.getAttribute("ascent").getNumber(),i.descent=i.getAttribute("descent").getNumber(),i.unitsPerEm=i.getAttribute("units-per-em").getNumber(),i}return e}(Z);function _b(r){return function(){var a=$(r),e;if(Nb()){var n=$(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return M(this,e)}}function Nb(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var Mb=function(r){I(e,r);var a=_b(e);function e(){var n;return O(this,e),n=a.apply(this,arguments),n.type="missing-glyph",n.horizAdvX=0,n}return e}(Ae);function Db(r){return function(){var a=$(r),e;if(Ib()){var n=$(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return M(this,e)}}function Ib(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var Lb=function(r){I(e,r);var a=Db(e);function e(n,t,s){var i;return O(this,e),i=a.call(this,n,t,s),i.type="glyph",i.horizAdvX=i.getAttribute("horiz-adv-x").getNumber(),i.unicode=i.getAttribute("unicode").getString(),i.arabicForm=i.getAttribute("arabic-form").getString(),i}return e}(Ae);function Vb(r){return function(){var a=$(r),e;if(Bb()){var n=$(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return M(this,e)}}function Bb(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var Fb=function(r){I(e,r);var a=Vb(e);function e(){var n;return O(this,e),n=a.apply(this,arguments),n.type="tref",n}return _(e,[{key:"getText",value:function(){var t=this.getHrefAttribute().getDefinition();if(t){var s=t.children[0];if(s)return s.getText()}return""}}]),e}(Vt);function jb(r){return function(){var a=$(r),e;if(zb()){var n=$(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return M(this,e)}}function zb(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var Gb=function(r){I(e,r);var a=jb(e);function e(n,t,s){var i;O(this,e),i=a.call(this,n,t,s),i.type="a";var o=t.childNodes,u=o[0],l=o.length>0&&Array.from(o).every(function(f){return f.nodeType===3});return i.hasText=l,i.text=l?i.getTextFromNode(u):"",i}return _(e,[{key:"getText",value:function(){return this.text}},{key:"renderChildren",value:function(t){if(this.hasText){xe($(e.prototype),"renderChildren",this).call(this,t);var s=this.document,i=this.x,o=this.y,u=s.screen.mouse,l=new D(s,"fontSize",ke.parse(s.ctx.font).fontSize);u.isWorking()&&u.checkBoundingBox(this,new be(i,o-l.getPixels("y"),i+this.measureText(t),o))}else if(this.children.length>0){var f=new Ba(this.document,null);f.children=this.children,f.parent=this,f.render(t)}}},{key:"onClick",value:function(){var t=this.document.window;t&&t.open(this.getHrefAttribute().getString())}},{key:"onMouseMove",value:function(){var t=this.document.ctx;t.canvas.style.cursor="pointer"}}]),e}(Vt);function Ub(r){if(typeof Symbol>"u"||r[Symbol.iterator]==null){if(Array.isArray(r)||(r=Wb(r))){var a=0,e=function(){};return{s:e,n:function(){return a>=r.length?{done:!0}:{done:!1,value:r[a++]}},e:function(u){throw u},f:e}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var n,t=!0,s=!1,i;return{s:function(){n=r[Symbol.iterator]()},n:function(){var u=n.next();return t=u.done,u},e:function(u){s=!0,i=u},f:function(){try{!t&&n.return!=null&&n.return()}finally{if(s)throw i}}}}function Wb(r,a){if(r){if(typeof r=="string")return Ms(r,a);var e=Object.prototype.toString.call(r).slice(8,-1);if(e==="Object"&&r.constructor&&(e=r.constructor.name),e==="Map"||e==="Set")return Array.from(e);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return Ms(r,a)}}function Ms(r,a){(a==null||a>r.length)&&(a=r.length);for(var e=0,n=new Array(a);e<a;e++)n[e]=r[e];return n}function qb(r){return function(){var a=$(r),e;if(Hb()){var n=$(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return M(this,e)}}function Hb(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var Yb=function(r){I(e,r);var a=qb(e);function e(n,t,s){var i;O(this,e),i=a.call(this,n,t,s),i.type="textPath",i.textWidth=0,i.textHeight=0,i.pathLength=-1,i.glyphInfo=null,i.letterSpacingCache=[],i.measuresCache=new Map([["",0]]);var o=i.getHrefAttribute().getDefinition();return i.text=i.getTextFromNode(),i.dataArray=i.parsePathData(o),i}return _(e,[{key:"getText",value:function(){return this.text}},{key:"path",value:function(t){var s=this.dataArray;t&&t.beginPath(),s.forEach(function(i){var o=i.command,u=i.points;switch(o){case"L":t&&t.lineTo(u[0],u[1]);break;case"M":t&&t.moveTo(u[0],u[1]);break;case"C":t&&t.bezierCurveTo(u[0],u[1],u[2],u[3],u[4],u[5]);break;case"Q":t&&t.quadraticCurveTo(u[0],u[1],u[2],u[3]);break;case"A":{var l=u[0],f=u[1],c=u[2],h=u[3],v=u[4],g=u[5],b=u[6],y=u[7],E=c>h?c:h,k=c>h?1:c/h,S=c>h?h/c:1;t&&(t.translate(l,f),t.rotate(b),t.scale(k,S),t.arc(0,0,E,v,v+g,!!(1-y)),t.scale(1/k,1/S),t.rotate(-b),t.translate(-l,-f));break}case"z":t&&t.closePath();break}})}},{key:"renderChildren",value:function(t){this.setTextData(t),t.save();var s=this.parent.getStyle("text-decoration").getString(),i=this.getFontSize(),o=this.glyphInfo,u=t.fillStyle;s==="underline"&&t.beginPath(),o.forEach(function(l,f){var c=l.p0,h=l.p1,v=l.text;t.save(),t.translate(c.x,c.y),t.rotate(o[f].rotation),t.fillStyle&&t.fillText(v,0,0),t.strokeStyle&&t.strokeText(v,0,0),t.restore(),s==="underline"&&(f===0&&t.moveTo(c.x,c.y+i/8),t.lineTo(h.x,h.y+i/5))}),s==="underline"&&(t.lineWidth=i/20,t.strokeStyle=u,t.stroke(),t.closePath()),t.restore()}},{key:"getLetterSpacingAt",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return this.letterSpacingCache[t]||0}},{key:"findSegmentToFitChar",value:function(t,s,i,o,u,l,f,c){var h=l,v=this.measureText(t,f);f===" "&&s==="justify"&&i<o&&(v+=(o-i)/u),c>-1&&(h+=this.getLetterSpacingAt(c));var g=this.textHeight/20,b={p0:this.getEquidistantPointOnPath(h,g),p1:this.getEquidistantPointOnPath(h+v,g)};return h+=v,{offset:h,segment:b}}},{key:"measureText",value:function(t,s){var i=this.measuresCache,o=s||this.getText();if(i.has(o))return i.get(o);var u=this.measureTargetText(t,o);return i.set(o,u),u}},{key:"setTextData",value:function(t){var s=this;if(!this.glyphInfo){var i=this.getText(),o=i.split(""),u=i.split(" ").length-1,l=oe(this.parent.getAttribute("dx").getString("0")),f=this.parent.getStyle("text-anchor").getString("start"),c=this.getStyle("letter-spacing"),h=this.parent.getStyle("letter-spacing"),v=0;!c.hasValue()||c.getValue()==="inherit"?v=h.getPixels():c.hasValue()&&c.getValue()!=="initial"&&c.getValue()!=="unset"&&(v=c.getPixels());var g=[],b=i.length;this.letterSpacingCache=g;for(var y=0;y<b;y++)g.push(typeof l[y]<"u"?l[y]:v);var E=g.reduce(function(N,L){return N+L||0},0);this.textWidth=this.measureText(t),this.textHeight=this.getFontSize();var k=Math.max(this.textWidth+E,0);this.glyphInfo=[];var S=this.getPathLength(),x=this.getStyle("startOffset").getNumber(0)*S,P=0;(f==="middle"||f==="center")&&(P=-k/2),(f==="end"||f==="right")&&(P=-k),P+=x,o.forEach(function(N,L){var j=s.findSegmentToFitChar(t,f,k,S,u,P,N,L),U=j.offset,B=j.segment;if(P=U,!(!B.p0||!B.p1)){var W=s.getLineLength(B.p0.x,B.p0.y,B.p1.x,B.p1.y),G=0,Q=s.getPointOnLine(G+W/2,B.p0.x,B.p0.y,B.p1.x,B.p1.y),q=Math.atan2(B.p1.y-B.p0.y,B.p1.x-B.p0.x);s.glyphInfo.push({transposeX:Q.x,transposeY:Q.y,text:o[L],p0:B.p0,p1:B.p1,rotation:q})}})}}},{key:"parsePathData",value:function(t){if(this.pathLength=-1,!t)return[];var s=[],i=t.pathParser;for(i.reset();!i.isEnd();){var o=i.current,u=o?o.x:0,l=o?o.y:0,f="",c=[];i.nextCommand();var h=i.command.toUpperCase();switch(i.command){case"M":case"m":f=this.pathM(i,c);break;case"L":case"l":f=this.pathL(i,c);break;case"H":case"h":f=this.pathH(i,c);break;case"V":case"v":f=this.pathV(i,c);break;case"C":case"c":this.pathC(i,c);break;case"S":case"s":f=this.pathS(i,c);break;case"Q":case"q":this.pathQ(i,c);break;case"T":case"t":f=this.pathT(i,c);break;case"A":case"a":c=this.pathA(i);break;case"Z":case"z":i.current=i.start;break}h!=="Z"?s.push({command:f||h,points:c,start:{x:u,y:l},pathLength:this.calcLength(u,l,f||h,c)}):s.push({command:"z",points:[],pathLength:0})}return s}},{key:"pathM",value:function(t,s){var i=t.getAsCurrentPoint();for(s.push(i.x,i.y),t.start=t.current;!t.isCommandOrEnd();){var o=t.getAsCurrentPoint();return s.push(o.x,o.y),"L"}}},{key:"pathL",value:function(t,s){for(;!t.isCommandOrEnd();){var i=t.getAsCurrentPoint();s.push(i.x,i.y)}return"L"}},{key:"pathH",value:function(t,s){for(;!t.isCommandOrEnd();){var i=t.current,o=new J((t.isRelativeCommand()?i.x:0)+t.getScalar(),i.y);s.push(o.x,o.y),t.current=o}return"L"}},{key:"pathV",value:function(t,s){for(;!t.isCommandOrEnd();){var i=t.current,o=new J(i.x,(t.isRelativeCommand()?i.y:0)+t.getScalar());s.push(o.x,o.y),t.current=o}return"L"}},{key:"pathC",value:function(t,s){for(;!t.isCommandOrEnd();){var i=t.getPoint(),o=t.getAsControlPoint(),u=t.getAsCurrentPoint();s.push(i.x,i.y,o.x,o.y,u.x,u.y)}}},{key:"pathS",value:function(t,s){for(;!t.isCommandOrEnd();){var i=t.getReflectedControlPoint(),o=t.getAsControlPoint(),u=t.getAsCurrentPoint();s.push(i.x,i.y,o.x,o.y,u.x,u.y)}return"C"}},{key:"pathQ",value:function(t,s){for(;!t.isCommandOrEnd();){var i=t.getAsControlPoint(),o=t.getAsCurrentPoint();s.push(i.x,i.y,o.x,o.y)}}},{key:"pathT",value:function(t,s){for(;!t.isCommandOrEnd();){var i=t.getReflectedControlPoint();t.control=i;var o=t.getAsCurrentPoint();s.push(i.x,i.y,o.x,o.y)}return"Q"}},{key:"pathA",value:function(t){for(;!t.isCommandOrEnd();){var s=t.current,i=t.getScalar(),o=t.getScalar(),u=t.getScalar()*(Math.PI/180),l=t.getScalar(),f=t.getScalar(),c=t.getAsCurrentPoint(),h=new J(Math.cos(u)*(s.x-c.x)/2+Math.sin(u)*(s.y-c.y)/2,-Math.sin(u)*(s.x-c.x)/2+Math.cos(u)*(s.y-c.y)/2),v=Math.pow(h.x,2)/Math.pow(i,2)+Math.pow(h.y,2)/Math.pow(o,2);v>1&&(i*=Math.sqrt(v),o*=Math.sqrt(v));var g=(l===f?-1:1)*Math.sqrt((Math.pow(i,2)*Math.pow(o,2)-Math.pow(i,2)*Math.pow(h.y,2)-Math.pow(o,2)*Math.pow(h.x,2))/(Math.pow(i,2)*Math.pow(h.y,2)+Math.pow(o,2)*Math.pow(h.x,2)));isNaN(g)&&(g=0);var b=new J(g*i*h.y/o,g*-o*h.x/i),y=new J((s.x+c.x)/2+Math.cos(u)*b.x-Math.sin(u)*b.y,(s.y+c.y)/2+Math.sin(u)*b.x+Math.cos(u)*b.y),E=gr([1,0],[(h.x-b.x)/i,(h.y-b.y)/o]),k=[(h.x-b.x)/i,(h.y-b.y)/o],S=[(-h.x-b.x)/i,(-h.y-b.y)/o],x=gr(k,S);return At(k,S)<=-1&&(x=Math.PI),At(k,S)>=1&&(x=0),f===0&&x>0&&(x=x-2*Math.PI),f===1&&x<0&&(x=x+2*Math.PI),[y.x,y.y,i,o,E,x,u,f]}}},{key:"calcLength",value:function(t,s,i,o){var u=0,l=null,f=null,c=0;switch(i){case"L":return this.getLineLength(t,s,o[0],o[1]);case"C":for(u=0,l=this.getPointOnCubicBezier(0,t,s,o[0],o[1],o[2],o[3],o[4],o[5]),c=.01;c<=1;c+=.01)f=this.getPointOnCubicBezier(c,t,s,o[0],o[1],o[2],o[3],o[4],o[5]),u+=this.getLineLength(l.x,l.y,f.x,f.y),l=f;return u;case"Q":for(u=0,l=this.getPointOnQuadraticBezier(0,t,s,o[0],o[1],o[2],o[3]),c=.01;c<=1;c+=.01)f=this.getPointOnQuadraticBezier(c,t,s,o[0],o[1],o[2],o[3]),u+=this.getLineLength(l.x,l.y,f.x,f.y),l=f;return u;case"A":u=0;var h=o[4],v=o[5],g=o[4]+v,b=Math.PI/180;if(Math.abs(h-g)<b&&(b=Math.abs(h-g)),l=this.getPointOnEllipticalArc(o[0],o[1],o[2],o[3],h,0),v<0)for(c=h-b;c>g;c-=b)f=this.getPointOnEllipticalArc(o[0],o[1],o[2],o[3],c,0),u+=this.getLineLength(l.x,l.y,f.x,f.y),l=f;else for(c=h+b;c<g;c+=b)f=this.getPointOnEllipticalArc(o[0],o[1],o[2],o[3],c,0),u+=this.getLineLength(l.x,l.y,f.x,f.y),l=f;return f=this.getPointOnEllipticalArc(o[0],o[1],o[2],o[3],g,0),u+=this.getLineLength(l.x,l.y,f.x,f.y),u}return 0}},{key:"getPointOnLine",value:function(t,s,i,o,u){var l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:s,f=arguments.length>6&&arguments[6]!==void 0?arguments[6]:i,c=(u-i)/(o-s+nt),h=Math.sqrt(t*t/(1+c*c));o<s&&(h*=-1);var v=c*h,g=null;if(o===s)g={x:l,y:f+v};else if((f-i)/(l-s+nt)===c)g={x:l+h,y:f+v};else{var b=0,y=0,E=this.getLineLength(s,i,o,u);if(E<nt)return null;var k=(l-s)*(o-s)+(f-i)*(u-i);k=k/(E*E),b=s+k*(o-s),y=i+k*(u-i);var S=this.getLineLength(l,f,b,y),x=Math.sqrt(t*t-S*S);h=Math.sqrt(x*x/(1+c*c)),o<s&&(h*=-1),v=c*h,g={x:b+h,y:y+v}}return g}},{key:"getPointOnPath",value:function(t){var s=this.getPathLength(),i=0,o=null;if(t<-5e-5||t-5e-5>s)return null;var u=this.dataArray,l=Ub(u),f;try{for(l.s();!(f=l.n()).done;){var c=f.value;if(c&&(c.pathLength<5e-5||i+c.pathLength+5e-5<t)){i+=c.pathLength;continue}var h=t-i,v=0;switch(c.command){case"L":o=this.getPointOnLine(h,c.start.x,c.start.y,c.points[0],c.points[1],c.start.x,c.start.y);break;case"A":var g=c.points[4],b=c.points[5],y=c.points[4]+b;if(v=g+h/c.pathLength*b,b<0&&v<y||b>=0&&v>y)break;o=this.getPointOnEllipticalArc(c.points[0],c.points[1],c.points[2],c.points[3],v,c.points[6]);break;case"C":v=h/c.pathLength,v>1&&(v=1),o=this.getPointOnCubicBezier(v,c.start.x,c.start.y,c.points[0],c.points[1],c.points[2],c.points[3],c.points[4],c.points[5]);break;case"Q":v=h/c.pathLength,v>1&&(v=1),o=this.getPointOnQuadraticBezier(v,c.start.x,c.start.y,c.points[0],c.points[1],c.points[2],c.points[3]);break;default:}if(o)return o;break}}catch(E){l.e(E)}finally{l.f()}return null}},{key:"getLineLength",value:function(t,s,i,o){return Math.sqrt((i-t)*(i-t)+(o-s)*(o-s))}},{key:"getPathLength",value:function(){return this.pathLength===-1&&(this.pathLength=this.dataArray.reduce(function(t,s){return s.pathLength>0?t+s.pathLength:t},0)),this.pathLength}},{key:"getPointOnCubicBezier",value:function(t,s,i,o,u,l,f,c,h){var v=c*ks(t)+l*Cs(t)+o*Ps(t)+s*Ts(t),g=h*ks(t)+f*Cs(t)+u*Ps(t)+i*Ts(t);return{x:v,y:g}}},{key:"getPointOnQuadraticBezier",value:function(t,s,i,o,u,l,f){var c=l*Os(t)+o*As(t)+s*_s(t),h=f*Os(t)+u*As(t)+i*_s(t);return{x:c,y:h}}},{key:"getPointOnEllipticalArc",value:function(t,s,i,o,u,l){var f=Math.cos(l),c=Math.sin(l),h={x:i*Math.cos(u),y:o*Math.sin(u)};return{x:t+(h.x*f-h.y*c),y:s+(h.x*c+h.y*f)}}},{key:"buildEquidistantCache",value:function(t,s){var i=this.getPathLength(),o=s||.25,u=t||i/100;if(!this.equidistantCache||this.equidistantCache.step!==u||this.equidistantCache.precision!==o){this.equidistantCache={step:u,precision:o,points:[]};for(var l=0,f=0;f<=i;f+=o){var c=this.getPointOnPath(f),h=this.getPointOnPath(f+o);!c||!h||(l+=this.getLineLength(c.x,c.y,h.x,h.y),l>=u&&(this.equidistantCache.points.push({x:c.x,y:c.y,distance:f}),l-=u))}}}},{key:"getEquidistantPointOnPath",value:function(t,s,i){if(this.buildEquidistantCache(s,i),t<0||t-this.getPathLength()>5e-5)return null;var o=Math.round(t/this.getPathLength()*(this.equidistantCache.points.length-1));return this.equidistantCache.points[o]||null}}]),e}(Vt);function Xb(r){return function(){var a=$(r),e;if(Kb()){var n=$(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return M(this,e)}}function Kb(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var Qb=function(r){I(e,r);var a=Xb(e);function e(n,t,s){var i;O(this,e),i=a.call(this,n,t,s),i.type="image",i.loaded=!1;var o=i.getHrefAttribute().getString();if(!o)return M(i);var u=/\.svg$/.test(o);return n.images.push(ct(i)),u?i.loadSvg(o):i.loadImage(o),i.isSvg=u,i}return _(e,[{key:"loadImage",value:function(){var n=Re(ae.mark(function s(i){var o;return ae.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.prev=0,l.next=3,this.document.createImage(i);case 3:o=l.sent,this.image=o,l.next=10;break;case 7:l.prev=7,l.t0=l.catch(0),console.error('Error while loading image "'.concat(i,'":'),l.t0);case 10:this.loaded=!0;case 11:case"end":return l.stop()}},s,this,[[0,7]])}));function t(s){return n.apply(this,arguments)}return t}()},{key:"loadSvg",value:function(){var n=Re(ae.mark(function s(i){var o,u;return ae.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.prev=0,f.next=3,this.document.fetch(i);case 3:return o=f.sent,f.next=6,o.text();case 6:u=f.sent,this.image=u,f.next=13;break;case 10:f.prev=10,f.t0=f.catch(0),console.error('Error while loading image "'.concat(i,'":'),f.t0);case 13:this.loaded=!0;case 14:case"end":return f.stop()}},s,this,[[0,10]])}));function t(s){return n.apply(this,arguments)}return t}()},{key:"renderChildren",value:function(t){var s=this.document,i=this.image,o=this.loaded,u=this.getAttribute("x").getPixels("x"),l=this.getAttribute("y").getPixels("y"),f=this.getStyle("width").getPixels("x"),c=this.getStyle("height").getPixels("y");if(!(!o||!i||!f||!c)){if(t.save(),this.isSvg)s.canvg.forkString(t,this.image,{ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0,ignoreClear:!0,offsetX:u,offsetY:l,scaleWidth:f,scaleHeight:c}).render();else{var h=this.image;t.translate(u,l),s.setViewBox({ctx:t,aspectRatio:this.getAttribute("preserveAspectRatio").getString(),width:f,desiredWidth:h.width,height:c,desiredHeight:h.height}),this.loaded&&(typeof h.complete>"u"||h.complete)&&t.drawImage(h,0,0)}t.restore()}}},{key:"getBoundingBox",value:function(){var t=this.getAttribute("x").getPixels("x"),s=this.getAttribute("y").getPixels("y"),i=this.getStyle("width").getPixels("x"),o=this.getStyle("height").getPixels("y");return new be(t,s,t+i,s+o)}}]),e}(qe);function Jb(r){return function(){var a=$(r),e;if(Zb()){var n=$(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return M(this,e)}}function Zb(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var eS=function(r){I(e,r);var a=Jb(e);function e(){var n;return O(this,e),n=a.apply(this,arguments),n.type="symbol",n}return _(e,[{key:"render",value:function(t){}}]),e}(qe),tS=function(){function r(a){O(this,r),this.document=a,this.loaded=!1,a.fonts.push(this)}return _(r,[{key:"load",value:function(){var a=Re(ae.mark(function n(t,s){var i,o,u;return ae.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.prev=0,i=this.document,f.next=4,i.canvg.parser.load(s);case 4:o=f.sent,u=o.getElementsByTagName("font"),Array.from(u).forEach(function(c){var h=i.createElement(c);i.definitions[t]=h}),f.next=12;break;case 9:f.prev=9,f.t0=f.catch(0),console.error('Error while loading font "'.concat(s,'":'),f.t0);case 12:this.loaded=!0;case 13:case"end":return f.stop()}},n,this,[[0,9]])}));function e(n,t){return a.apply(this,arguments)}return e}()}]),r}();function rS(r){return function(){var a=$(r),e;if(nS()){var n=$(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return M(this,e)}}function nS(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var zu=function(r){I(e,r);var a=rS(e);function e(n,t,s){var i;O(this,e),i=a.call(this,n,t,s),i.type="style";var o=St(Array.from(t.childNodes).map(function(l){return l.data}).join("").replace(/(\/\*([^*]|[\r\n]|(\*+([^*\/]|[\r\n])))*\*+\/)|(^[\s]*\/\/.*)/gm,"").replace(/@import.*;/g,"")),u=o.split("}");return u.forEach(function(l){var f=l.trim();if(f){var c=f.split("{"),h=c[0].split(","),v=c[1].split(";");h.forEach(function(g){var b=g.trim();if(b){var y=n.styles[b]||{};if(v.forEach(function(S){var x=S.indexOf(":"),P=S.substr(0,x).trim(),N=S.substr(x+1,S.length-x).trim();P&&N&&(y[P]=new D(n,P,N))}),n.styles[b]=y,n.stylesSpecificity[b]=Wm(b),b==="@font-face"){var E=y["font-family"].getString().replace(/"|'/g,""),k=y.src.getString().split(",");k.forEach(function(S){if(S.indexOf('format("svg")')>0){var x=Nu(S);x&&new tS(n).load(E,x)}})}}})}}),i}return e}(Z);zu.parseExternalUrl=Nu;function aS(r){return function(){var a=$(r),e;if(iS()){var n=$(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return M(this,e)}}function iS(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var sS=function(r){I(e,r);var a=aS(e);function e(){var n;return O(this,e),n=a.apply(this,arguments),n.type="use",n}return _(e,[{key:"setContext",value:function(t){xe($(e.prototype),"setContext",this).call(this,t);var s=this.getAttribute("x"),i=this.getAttribute("y");s.hasValue()&&t.translate(s.getPixels("x"),0),i.hasValue()&&t.translate(0,i.getPixels("y"))}},{key:"path",value:function(t){var s=this.element;s&&s.path(t)}},{key:"renderChildren",value:function(t){var s=this.document,i=this.element;if(i){var o=i;if(i.type==="symbol"&&(o=new Bt(s,null),o.attributes.viewBox=new D(s,"viewBox",i.getAttribute("viewBox").getString()),o.attributes.preserveAspectRatio=new D(s,"preserveAspectRatio",i.getAttribute("preserveAspectRatio").getString()),o.attributes.overflow=new D(s,"overflow",i.getAttribute("overflow").getString()),o.children=i.children),o.type==="svg"){var u=this.getStyle("width",!1,!0),l=this.getStyle("height",!1,!0);u.hasValue()&&(o.attributes.width=new D(s,"width",u.getString())),l.hasValue()&&(o.attributes.height=new D(s,"height",l.getString()))}var f=o.parent;o.parent=this,o.render(t),o.parent=f}}},{key:"getBoundingBox",value:function(t){var s=this.element;return s?s.getBoundingBox(t):null}},{key:"elementTransform",value:function(){var t=this.document,s=this.element;return jr.fromElement(t,s)}},{key:"element",get:function(){return this._element||(this._element=this.getHrefAttribute().getDefinition()),this._element}}]),e}(qe);function oS(r){return function(){var a=$(r),e;if(uS()){var n=$(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return M(this,e)}}function uS(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function ir(r,a,e,n,t,s){return r[e*n*4+a*4+s]}function sr(r,a,e,n,t,s,i){r[e*n*4+a*4+s]=i}function te(r,a,e){var n=r[a];return n*(n<0?e-255:e)}function Se(r,a,e,n){return a+Math.cos(r)*e+Math.sin(r)*n}var Gu=function(r){I(e,r);var a=oS(e);function e(n,t,s){var i;O(this,e),i=a.call(this,n,t,s),i.type="feColorMatrix";var o=oe(i.getAttribute("values").getString());switch(i.getAttribute("type").getString("matrix")){case"saturate":{var u=o[0];o=[.213+.787*u,.715-.715*u,.072-.072*u,0,0,.213-.213*u,.715+.285*u,.072-.072*u,0,0,.213-.213*u,.715-.715*u,.072+.928*u,0,0,0,0,0,1,0,0,0,0,0,1];break}case"hueRotate":{var l=o[0]*Math.PI/180;o=[Se(l,.213,.787,-.213),Se(l,.715,-.715,-.715),Se(l,.072,-.072,.928),0,0,Se(l,.213,-.213,.143),Se(l,.715,.285,.14),Se(l,.072,-.072,-.283),0,0,Se(l,.213,-.213,-.787),Se(l,.715,-.715,.715),Se(l,.072,.928,.072),0,0,0,0,0,1,0,0,0,0,0,1];break}case"luminanceToAlpha":o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.2125,.7154,.0721,0,0,0,0,0,0,1];break}return i.matrix=o,i.includeOpacity=i.getAttribute("includeOpacity").hasValue(),i}return _(e,[{key:"apply",value:function(t,s,i,o,u){for(var l=this.includeOpacity,f=this.matrix,c=t.getImageData(0,0,o,u),h=0;h<u;h++)for(var v=0;v<o;v++){var g=ir(c.data,v,h,o,u,0),b=ir(c.data,v,h,o,u,1),y=ir(c.data,v,h,o,u,2),E=ir(c.data,v,h,o,u,3),k=te(f,0,g)+te(f,1,b)+te(f,2,y)+te(f,3,E)+te(f,4,1),S=te(f,5,g)+te(f,6,b)+te(f,7,y)+te(f,8,E)+te(f,9,1),x=te(f,10,g)+te(f,11,b)+te(f,12,y)+te(f,13,E)+te(f,14,1),P=te(f,15,g)+te(f,16,b)+te(f,17,y)+te(f,18,E)+te(f,19,1);l&&(k=S=x=0,P*=E/255),sr(c.data,v,h,o,u,0,k),sr(c.data,v,h,o,u,1,S),sr(c.data,v,h,o,u,2,x),sr(c.data,v,h,o,u,3,P)}t.clearRect(0,0,o,u),t.putImageData(c,0,0)}}]),e}(Z);function lS(r){return function(){var a=$(r),e;if(fS()){var n=$(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return M(this,e)}}function fS(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var Uu=function(r){I(e,r);var a=lS(e);function e(){var n;return O(this,e),n=a.apply(this,arguments),n.type="mask",n}return _(e,[{key:"apply",value:function(t,s){var i=this.document,o=this.getAttribute("x").getPixels("x"),u=this.getAttribute("y").getPixels("y"),l=this.getStyle("width").getPixels("x"),f=this.getStyle("height").getPixels("y");if(!l&&!f){var c=new be;this.children.forEach(function(E){c.addBoundingBox(E.getBoundingBox(t))}),o=Math.floor(c.x1),u=Math.floor(c.y1),l=Math.floor(c.width),f=Math.floor(c.height)}var h=this.removeStyles(s,e.ignoreStyles),v=i.createCanvas(o+l,u+f),g=v.getContext("2d");i.screen.setDefaults(g),this.renderChildren(g),new Gu(i,{nodeType:1,childNodes:[],attributes:[{nodeName:"type",value:"luminanceToAlpha"},{nodeName:"includeOpacity",value:"true"}]}).apply(g,0,0,o+l,u+f);var b=i.createCanvas(o+l,u+f),y=b.getContext("2d");i.screen.setDefaults(y),s.render(y),y.globalCompositeOperation="destination-in",y.fillStyle=g.createPattern(v,"no-repeat"),y.fillRect(0,0,o+l,u+f),t.fillStyle=y.createPattern(b,"no-repeat"),t.fillRect(0,0,o+l,u+f),this.restoreStyles(s,h)}},{key:"render",value:function(t){}}]),e}(Z);Uu.ignoreStyles=["mask","transform","clip-path"];function cS(r){return function(){var a=$(r),e;if(hS()){var n=$(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return M(this,e)}}function hS(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var Ds=function(){},vS=function(r){I(e,r);var a=cS(e);function e(){var n;return O(this,e),n=a.apply(this,arguments),n.type="clipPath",n}return _(e,[{key:"apply",value:function(t){var s=this.document,i=Reflect.getPrototypeOf(t),o=t.beginPath,u=t.closePath;i&&(i.beginPath=Ds,i.closePath=Ds),Reflect.apply(o,t,[]),this.children.forEach(function(l){if(!(typeof l.path>"u")){var f=typeof l.elementTransform<"u"?l.elementTransform():null;f||(f=jr.fromElement(s,l)),f&&f.apply(t),l.path(t),i&&(i.closePath=u),f&&f.unapply(t)}}),Reflect.apply(u,t,[]),t.clip(),i&&(i.beginPath=o,i.closePath=u)}},{key:"render",value:function(t){}}]),e}(Z);function gS(r){return function(){var a=$(r),e;if(pS()){var n=$(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return M(this,e)}}function pS(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var Wu=function(r){I(e,r);var a=gS(e);function e(){var n;return O(this,e),n=a.apply(this,arguments),n.type="filter",n}return _(e,[{key:"apply",value:function(t,s){var i=this.document,o=this.children,u=s.getBoundingBox(t);if(u){var l=0,f=0;o.forEach(function(x){var P=x.extraFilterDistance||0;l=Math.max(l,P),f=Math.max(f,P)});var c=Math.floor(u.width),h=Math.floor(u.height),v=c+2*l,g=h+2*f;if(!(v<1||g<1)){var b=Math.floor(u.x),y=Math.floor(u.y),E=this.removeStyles(s,e.ignoreStyles),k=i.createCanvas(v,g),S=k.getContext("2d");i.screen.setDefaults(S),S.translate(-b+l,-y+f),s.render(S),o.forEach(function(x){typeof x.apply=="function"&&x.apply(S,0,0,v,g)}),t.drawImage(k,0,0,v,g,b-l,y-f,v,g),this.restoreStyles(s,E)}}}},{key:"render",value:function(t){}}]),e}(Z);Wu.ignoreStyles=["filter","transform","clip-path"];function dS(r){return function(){var a=$(r),e;if(yS()){var n=$(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return M(this,e)}}function yS(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var mS=function(r){I(e,r);var a=dS(e);function e(n,t,s){var i;return O(this,e),i=a.call(this,n,t,s),i.type="feDropShadow",i.addStylesFromStyleDefinition(),i}return _(e,[{key:"apply",value:function(t,s,i,o,u){}}]),e}(Z);function bS(r){return function(){var a=$(r),e;if(SS()){var n=$(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return M(this,e)}}function SS(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var $S=function(r){I(e,r);var a=bS(e);function e(){var n;return O(this,e),n=a.apply(this,arguments),n.type="feMorphology",n}return _(e,[{key:"apply",value:function(t,s,i,o,u){}}]),e}(Z);function wS(r){return function(){var a=$(r),e;if(ES()){var n=$(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return M(this,e)}}function ES(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var RS=function(r){I(e,r);var a=wS(e);function e(){var n;return O(this,e),n=a.apply(this,arguments),n.type="feComposite",n}return _(e,[{key:"apply",value:function(t,s,i,o,u){}}]),e}(Z);function xS(r){return function(){var a=$(r),e;if(kS()){var n=$(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return M(this,e)}}function kS(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var CS=function(r){I(e,r);var a=xS(e);function e(n,t,s){var i;return O(this,e),i=a.call(this,n,t,s),i.type="feGaussianBlur",i.blurRadius=Math.floor(i.getAttribute("stdDeviation").getNumber()),i.extraFilterDistance=i.blurRadius,i}return _(e,[{key:"apply",value:function(t,s,i,o,u){var l=this.document,f=this.blurRadius,c=l.window?l.window.document.body:null,h=t.canvas;h.id=l.getUniqueId(),c&&(h.style.display="none",c.appendChild(h)),Am(h,s,i,o,u,f),c&&c.removeChild(h)}}]),e}(Z);function PS(r){return function(){var a=$(r),e;if(TS()){var n=$(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return M(this,e)}}function TS(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var OS=function(r){I(e,r);var a=PS(e);function e(){var n;return O(this,e),n=a.apply(this,arguments),n.type="title",n}return e}(Z);function AS(r){return function(){var a=$(r),e;if(_S()){var n=$(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return M(this,e)}}function _S(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var NS=function(r){I(e,r);var a=AS(e);function e(){var n;return O(this,e),n=a.apply(this,arguments),n.type="desc",n}return e}(Z),MS={svg:Bt,rect:Bu,circle:I0,ellipse:B0,line:z0,polyline:Fu,polygon:H0,path:Ae,pattern:K0,marker:Z0,defs:rb,linearGradient:lb,radialGradient:hb,stop:pb,animate:Fa,animateColor:Sb,animateTransform:Eb,font:Pb,"font-face":Ab,"missing-glyph":Mb,glyph:Lb,text:Vt,tspan:Vu,tref:Fb,a:Gb,textPath:Yb,image:Qb,g:Ba,symbol:eS,style:zu,use:sS,mask:Uu,clipPath:vS,filter:Wu,feDropShadow:mS,feMorphology:$S,feComposite:RS,feColorMatrix:Gu,feGaussianBlur:CS,title:OS,desc:NS};function Is(r,a){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);a&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable})),e.push.apply(e,n)}return e}function DS(r){for(var a=1;a<arguments.length;a++){var e=arguments[a]!=null?arguments[a]:{};a%2?Is(Object(e),!0).forEach(function(n){Go(r,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):Is(Object(e)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(e,n))})}return r}function IS(r,a){var e=document.createElement("canvas");return e.width=r,e.height=a,e}function LS(r){return aa.apply(this,arguments)}function aa(){return aa=Re(ae.mark(function r(a){var e,n,t=arguments;return ae.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return e=t.length>1&&t[1]!==void 0?t[1]:!1,n=document.createElement("img"),e&&(n.crossOrigin="Anonymous"),i.abrupt("return",new Promise(function(o,u){n.onload=function(){o(n)},n.onerror=function(){u()},n.src=a}));case 4:case"end":return i.stop()}},r)})),aa.apply(this,arguments)}var zr=function(){function r(a){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.rootEmSize,t=n===void 0?12:n,s=e.emSize,i=s===void 0?12:s,o=e.createCanvas,u=o===void 0?r.createCanvas:o,l=e.createImage,f=l===void 0?r.createImage:l,c=e.anonymousCrossOrigin;O(this,r),this.canvg=a,this.definitions={},this.styles={},this.stylesSpecificity={},this.images=[],this.fonts=[],this.emSizeStack=[],this.uniqueId=0,this.screen=a.screen,this.rootEmSize=t,this.emSize=i,this.createCanvas=u,this.createImage=this.bindCreateImage(f,c),this.screen.wait(this.isImagesLoaded.bind(this)),this.screen.wait(this.isFontsLoaded.bind(this))}return _(r,[{key:"bindCreateImage",value:function(e,n){return typeof n=="boolean"?function(t,s){return e(t,typeof s=="boolean"?s:n)}:e}},{key:"popEmSize",value:function(){var e=this.emSizeStack;e.pop()}},{key:"getUniqueId",value:function(){return"canvg".concat(++this.uniqueId)}},{key:"isImagesLoaded",value:function(){return this.images.every(function(e){return e.loaded})}},{key:"isFontsLoaded",value:function(){return this.fonts.every(function(e){return e.loaded})}},{key:"createDocumentElement",value:function(e){var n=this.createElement(e.documentElement);return n.root=!0,n.addStylesFromStyleDefinition(),this.documentElement=n,n}},{key:"createElement",value:function(e){var n=e.nodeName.replace(/^[^:]+:/,""),t=r.elementTypes[n];return typeof t<"u"?new t(this,e):new h0(this,e)}},{key:"createTextNode",value:function(e){return new x0(this,e)}},{key:"setViewBox",value:function(e){this.screen.setViewBox(DS({document:this},e))}},{key:"window",get:function(){return this.screen.window}},{key:"fetch",get:function(){return this.screen.fetch}},{key:"ctx",get:function(){return this.screen.ctx}},{key:"emSize",get:function(){var e=this.emSizeStack;return e[e.length-1]},set:function(e){var n=this.emSizeStack;n.push(e)}}]),r}();zr.createCanvas=IS;zr.createImage=LS;zr.elementTypes=MS;function Ls(r,a){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);a&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable})),e.push.apply(e,n)}return e}function or(r){for(var a=1;a<arguments.length;a++){var e=arguments[a]!=null?arguments[a]:{};a%2?Ls(Object(e),!0).forEach(function(n){Go(r,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):Ls(Object(e)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(e,n))})}return r}var jS=function(){function r(a,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};O(this,r),this.parser=new Ln(n),this.screen=new Fr(a,n),this.options=n;var t=new zr(this,n),s=t.createDocumentElement(e);this.document=t,this.documentElement=s}return _(r,[{key:"fork",value:function(e,n){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return r.from(e,n,or({},this.options,{},t))}},{key:"forkString",value:function(e,n){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return r.fromString(e,n,or({},this.options,{},t))}},{key:"ready",value:function(){return this.screen.ready()}},{key:"isReady",value:function(){return this.screen.isReady()}},{key:"render",value:function(){var a=Re(ae.mark(function n(){var t,s=arguments;return ae.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return t=s.length>0&&s[0]!==void 0?s[0]:{},this.start(or({enableRedraw:!0,ignoreAnimation:!0,ignoreMouse:!0},t)),o.next=4,this.ready();case 4:this.stop();case 5:case"end":return o.stop()}},n,this)}));function e(){return a.apply(this,arguments)}return e}()},{key:"start",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=this.documentElement,t=this.screen,s=this.options;t.start(n,or({enableRedraw:!0},s,{},e))}},{key:"stop",value:function(){this.screen.stop()}},{key:"resize",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.documentElement.resize(e,n,t)}}],[{key:"from",value:function(){var a=Re(ae.mark(function n(t,s){var i,o,u,l=arguments;return ae.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return i=l.length>2&&l[2]!==void 0?l[2]:{},o=new Ln(i),c.next=4,o.parse(s);case 4:return u=c.sent,c.abrupt("return",new r(t,u,i));case 6:case"end":return c.stop()}},n)}));function e(n,t){return a.apply(this,arguments)}return e}()},{key:"fromString",value:function(e,n){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=new Ln(t),i=s.parseFromString(n);return new r(e,i,t)}}]),r}();function VS(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=r.DOMParser,e={window:null,ignoreAnimation:!0,ignoreMouse:!0,DOMParser:a,createCanvas:function(t,s){return new OffscreenCanvas(t,s)},createImage:function(t){return Re(ae.mark(function s(){var i,o,u;return ae.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,fetch(t);case 2:return i=f.sent,f.next=5,i.blob();case 5:return o=f.sent,f.next=8,createImageBitmap(o);case 8:return u=f.sent,f.abrupt("return",u);case 10:case"end":return f.stop()}},s)}))()}};return(typeof DOMParser<"u"||typeof a>"u")&&Reflect.deleteProperty(e,"DOMParser"),e}function BS(r){var a=r.DOMParser,e=r.canvas,n=r.fetch;return{window:null,ignoreAnimation:!0,ignoreMouse:!0,DOMParser:a,fetch:n,createCanvas:e.createCanvas,createImage:e.loadImage}}var zS=Object.freeze({__proto__:null,offscreen:VS,node:BS});export{Gb as AElement,Sb as AnimateColorElement,Fa as AnimateElement,Eb as AnimateTransformElement,be as BoundingBox,ks as CB1,Cs as CB2,Ps as CB3,Ts as CB4,jS as Canvg,I0 as CircleElement,vS as ClipPathElement,rb as DefsElement,NS as DescElement,zr as Document,Z as Element,B0 as EllipseElement,Gu as FeColorMatrixElement,RS as FeCompositeElement,mS as FeDropShadowElement,CS as FeGaussianBlurElement,$S as FeMorphologyElement,Wu as FilterElement,ke as Font,Pb as FontElement,Ab as FontFaceElement,Ba as GElement,Lb as GlyphElement,ju as GradientElement,Qb as ImageElement,z0 as LineElement,lb as LinearGradientElement,Z0 as MarkerElement,Uu as MaskElement,Iu as Matrix,Mb as MissingGlyphElement,Ym as Mouse,nt as PSEUDO_ZERO,Ln as Parser,Ae as PathElement,C0 as PathParser,K0 as PatternElement,J as Point,H0 as PolygonElement,Fu as PolylineElement,D as Property,Os as QB1,As as QB2,_s as QB3,hb as RadialGradientElement,Bu as RectElement,qe as RenderedElement,Jm as Rotate,Bt as SVGElement,tS as SVGFontLoader,Zm as Scale,Fr as Screen,Lu as Skew,a0 as SkewX,o0 as SkewY,pb as StopElement,zu as StyleElement,eS as SymbolElement,Fb as TRefElement,Vu as TSpanElement,Vt as TextElement,Yb as TextPathElement,OS as TitleElement,jr as Transform,Qm as Translate,h0 as UnknownElement,sS as UseElement,Hm as ViewPort,St as compressSpaces,jS as default,Wm as getSelectorSpecificity,Im as normalizeAttributeName,Lm as normalizeColor,Nu as parseExternalUrl,zS as presets,oe as toNumbers,Nm as trimLeft,Mm as trimRight,xs as vectorMagnitude,gr as vectorsAngle,At as vectorsRatio};
